{
	"info": {
		"_postman_id": "0b58d275-4a68-44eb-962c-bb229945fc2f",
		"name": "Taxigate-app",
		"description": "Complete API collection for Taxigate Driver, Admin, and Booking workflows. Includes authentication, onboarding, vehicle management, and booking operations.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "48102938",
		"_collection_link": "https://hammadsandhuu-8864589.postman.co/workspace/Hammad-Sandhu's-Workspace~c5352c58-9cf7-4146-8df1-1e2dbdf7524d/collection/48102938-0b58d275-4a68-44eb-962c-bb229945fc2f?action=share&source=collection_link&creator=48102938"
	},
	"item": [
		{
			"name": "Driver",
			"item": [
				{
					"name": "Auth setps",
					"item": [
						{
							"name": "Driver Signup",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 201) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.driver && response.data.driver.id) {",
											"        pm.collectionVariables.set('driverId', response.data.driver.id);",
											"    }",
											"}"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\",\n    \"phone\": \"+1234567890\",\n    \"password\": \"password123\",\n    \"confirmPassword\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/signup",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"signup"
									]
								},
								"description": "Driver signup - generates OTP, NO tokens issued"
							},
							"response": [
								{
									"name": "Driver Signup",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"moazzamali6040@gmail.com\",\n    \"phone\": \"+1234567890\",\n    \"password\": \"password123\",\n    \"confirmPassword\": \"password123\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/signup",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"signup"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": null,
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Cache-Control",
											"value": "public, max-age=0, must-revalidate"
										},
										{
											"key": "Content-Length",
											"value": "258"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Date",
											"value": "Fri, 28 Nov 2025 00:49:20 GMT"
										},
										{
											"key": "Etag",
											"value": "W/\"102-gpDly+8D/rY3r24EYEwG0rGlzLU\""
										},
										{
											"key": "Expect-Ct",
											"value": "max-age=0"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "Server",
											"value": "Vercel"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Dns-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "X-Ratelimit-Limit",
											"value": "100"
										},
										{
											"key": "X-Ratelimit-Remaining",
											"value": "98"
										},
										{
											"key": "X-Ratelimit-Reset",
											"value": "1764293247"
										},
										{
											"key": "X-Vercel-Cache",
											"value": "MISS"
										},
										{
											"key": "X-Vercel-Id",
											"value": "iad1::iad1::w6zqq-1764290960158-e891384ba949"
										},
										{
											"key": "X-Xss-Protection",
											"value": "0"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Account created successfully. Please check your email for OTP.\",\n    \"data\": {\n        \"driver\": {\n            \"id\": \"6928f191ddb75e00046471bf\",\n            \"email\": \"moazzamali6040@gmail.com\",\n            \"phone\": \"+1234567890\",\n            \"isVerified\": false,\n            \"status\": \"Pending\",\n            \"role\": \"driver\"\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Verify OTP",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    // Extract tokens from response body",
											"    const response = pm.response.json();",
											"    ",
											"    if (response.data && response.data.tokens) {",
											"        if (response.data.tokens.accessToken) {",
											"            pm.collectionVariables.set('driverAccessToken', response.data.tokens.accessToken);",
											"            console.log('Access token extracted from response body');",
											"        }",
											"        if (response.data.tokens.refreshToken) {",
											"            pm.collectionVariables.set('driverRefreshToken', response.data.tokens.refreshToken);",
											"            console.log('Refresh token extracted from response body');",
											"        }",
											"    }",
											"    ",
											"    // Extract driver ID from response",
											"    if (response.data && response.data.driver && response.data.driver.id) {",
											"        pm.collectionVariables.set('driverId', response.data.driver.id);",
											"        console.log('Driver ID extracted:', response.data.driver.id);",
											"    }",
											"    ",
											"    // Verify tokens were set",
											"    pm.test('Tokens extracted successfully', function() {",
											"        pm.expect(pm.collectionVariables.get('driverAccessToken')).to.not.be.undefined;",
											"        pm.expect(pm.collectionVariables.get('driverAccessToken')).to.not.be.empty;",
											"    });",
											"}"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\",\n    \"otp\": \"735542\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/verify-otp",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"verify-otp"
									]
								},
								"description": "Verify OTP - generates access + refresh tokens in HTTP-only cookies"
							},
							"response": [
								{
									"name": "Verify OTP",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\",\n    \"otp\": \"412440\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/verify-otp",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"verify-otp"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "97"
										},
										{
											"key": "Date",
											"value": "Sun, 23 Nov 2025 15:41:21 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1763914199"
										},
										{
											"key": "Set-Cookie",
											"value": "access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjMyYWUzNGFmNDJiNDViMTVjODIwMSIsInJvbGUiOiJkcml2ZXIiLCJ0b2tlblZlcnNpb24iOjAsInR5cGUiOiJhY2Nlc3MiLCJpYXQiOjE3NjM5MTI0ODQsImV4cCI6MTc2MzkxMzM4NH0.BaBk3CWf1WMCfvq94Q0XabJW0kh1bdfCx_VfpgteorA; Path=/; Expires=Sun, 23 Nov 2025 15:56:24 GMT; HttpOnly; SameSite=Strict"
										},
										{
											"key": "Set-Cookie",
											"value": "refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjMyYWUzNGFmNDJiNDViMTVjODIwMSIsInJvbGUiOiJkcml2ZXIiLCJ0b2tlblZlcnNpb24iOjAsInR5cGUiOiJyZWZyZXNoIiwiaWF0IjoxNzYzOTEyNDg0LCJleHAiOjE3NjQ1MTcyODR9.LBzyNFh_eKNRg4IvysUjMN4PwB_TkcMZDx_a2T7bTl0; Path=/driver/refresh-token; Expires=Sun, 30 Nov 2025 15:41:24 GMT; HttpOnly; SameSite=Strict"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "268"
										},
										{
											"key": "ETag",
											"value": "W/\"10c-Sd3pQOEstyowZq8C5rAvFNC5zeI\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Account verified successfully. Please setup your profile.\",\n    \"data\": {\n        \"driver\": {\n            \"id\": \"69232ae34af42b45b15c8201\",\n            \"email\": \"hammadsandhuu@gmail.com\",\n            \"phone\": \"+1234567890\",\n            \"isVerified\": true,\n            \"status\": \"Pending\",\n            \"role\": \"driver\",\n            \"tokenVersion\": 0\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Setup Profile",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.driver && response.data.driver.id) {",
											"        pm.collectionVariables.set('driverId', response.data.driver.id);",
											"    }",
											"}"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "multipart/form-data",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "firstName",
											"value": "Hammad",
											"type": "text"
										},
										{
											"key": "lastName",
											"value": "Sandhu",
											"type": "text"
										},
										{
											"key": "profilePicture",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/setup-profile",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"setup-profile"
									]
								},
								"description": "Setup driver profile - protected route (requires access token)"
							},
							"response": [
								{
									"name": "Setup Profile",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "multipart/form-data",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "firstName",
													"value": "Hammad",
													"type": "text"
												},
												{
													"key": "lastName",
													"value": "Sandhu",
													"type": "text"
												},
												{
													"key": "profilePicture",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												}
											]
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/setup-profile",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"setup-profile"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "96"
										},
										{
											"key": "Date",
											"value": "Sun, 23 Nov 2025 15:42:29 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1763914199"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "359"
										},
										{
											"key": "ETag",
											"value": "W/\"167-GuoqIA6hdkjficxepBryb+lVOZ8\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Profile updated successfully.\",\n    \"data\": {\n        \"driver\": {\n            \"id\": \"69232ae34af42b45b15c8201\",\n            \"firstName\": \"Hammad\",\n            \"lastName\": \"Sandhu\",\n            \"email\": \"hammadsandhuu@gmail.com\",\n            \"phone\": \"+1234567890\",\n            \"profilePicture\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912554/Taxigate/profilePicture/1763912549828-0001-2378385367225757052.png\"\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Upload Documents",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    pm.test('Documents uploaded successfully', function() {",
											"        pm.response.to.have.status(200);",
											"    });",
											"}"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "multipart/form-data",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "documentFrontImage",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										},
										{
											"key": "documentBackImage",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										},
										{
											"key": "driverLicenseFront",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										},
										{
											"key": "driverLicenseBack",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										},
										{
											"key": "driverPassFront",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										},
										{
											"key": "driverPassBack",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										},
										{
											"key": "kiwaPermit",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										},
										{
											"key": "insurancePolicy",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										},
										{
											"key": "bankpass",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										},
										{
											"key": "kvkUittreksel",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/upload-documents",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"upload-documents"
									]
								},
								"description": "Upload driver documents - protected route (requires access token)"
							},
							"response": [
								{
									"name": "Upload Documents",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "multipart/form-data",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "documentFrontImage",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												},
												{
													"key": "documentBackImage",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												},
												{
													"key": "driverLicenseFront",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												},
												{
													"key": "driverLicenseBack",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												},
												{
													"key": "driverPassFront",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												},
												{
													"key": "driverPassBack",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												},
												{
													"key": "kiwaPermit",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												},
												{
													"key": "insurancePolicy",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												},
												{
													"key": "bankpass",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												},
												{
													"key": "kvkUittreksel",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												}
											]
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/upload-documents",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"upload-documents"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "95"
										},
										{
											"key": "Date",
											"value": "Sun, 23 Nov 2025 15:43:04 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1763914199"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "ETag",
											"value": "W/\"658-pKGnxdYicrD65ob/ugtm9RnPjqg\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Content-Encoding",
											"value": "br"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										},
										{
											"key": "Transfer-Encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Documents uploaded successfully.\",\n    \"data\": {\n        \"driver\": {\n            \"id\": \"69232ae34af42b45b15c8201\",\n            \"email\": \"hammadsandhuu@gmail.com\",\n            \"profilePicture\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912554/Taxigate/profilePicture/1763912549828-0001-2378385367225757052.png\",\n            \"documentFrontImage\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912587/Taxigate/driver-documents/m8js6f9fmi3ybtwxfcmg.jpg\",\n            \"documentBackImage\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912590/Taxigate/driver-documents/bj6keales61mbgpwarsq.jpg\",\n            \"driverLicenseFront\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912586/Taxigate/driver-documents/ohetlvuf1s0gxppbpefc.jpg\",\n            \"driverLicenseBack\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912589/Taxigate/driver-documents/h1osx02irbmn3wkkhqva.jpg\",\n            \"driverPassFront\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912586/Taxigate/driver-documents/rwaa4lw71tdf3x2so8el.jpg\",\n            \"driverPassBack\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912586/Taxigate/driver-documents/k0ynwziei8qpote8jdke.jpg\",\n            \"kiwaPermit\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912587/Taxigate/driver-documents/uvrons1fzwviwpu1pzvs.jpg\",\n            \"insurancePolicy\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912586/Taxigate/driver-documents/zuxi5caiu69wjsybk12k.jpg\",\n            \"bankpass\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912586/Taxigate/driver-documents/bxcqsdiniz7kqv20r2kz.jpg\",\n            \"kvkUittreksel\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912592/Taxigate/driver-documents/e2jfphbiqswn0inbrbgx.jpg\"\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Add Vehicle",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 201 || pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.vehicle && response.data.vehicle.id) {",
											"        pm.collectionVariables.set('vehicleId', response.data.vehicle.id);",
											"    }",
											"}"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "multipart/form-data",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "type",
											"value": "Sedan",
											"type": "text"
										},
										{
											"key": "brand",
											"value": "Toyota",
											"type": "text"
										},
										{
											"key": "model",
											"value": "Camry",
											"type": "text"
										},
										{
											"key": "color",
											"value": "Black",
											"type": "text"
										},
										{
											"key": "plateNumber",
											"value": "ABC124",
											"type": "text"
										},
										{
											"key": "image",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/vehicle",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"vehicle"
									]
								},
								"description": "Add vehicle - protected route (requires access token)"
							},
							"response": [
								{
									"name": "Add Vehicle",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "multipart/form-data",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "type",
													"value": "Sedan",
													"type": "text"
												},
												{
													"key": "brand",
													"value": "Toyota",
													"type": "text"
												},
												{
													"key": "model",
													"value": "Camry",
													"type": "text"
												},
												{
													"key": "color",
													"value": "Black",
													"type": "text"
												},
												{
													"key": "plateNumber",
													"value": "ABC123",
													"type": "text"
												},
												{
													"key": "image",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												}
											]
										},
										"url": {
											"raw": "{{baseUrl}}/api/vehicle",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"vehicle"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "94"
										},
										{
											"key": "Date",
											"value": "Sun, 23 Nov 2025 15:43:38 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1763914199"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "527"
										},
										{
											"key": "ETag",
											"value": "W/\"20f-m4Ze8phPeQwbGfOK0D36U0VzRU4\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Vehicle added successfully. Your request is pending admin approval. You will receive an email notification once approved.\",\n    \"data\": {\n        \"vehicle\": {\n            \"id\": \"69232bb14af42b45b15c820f\",\n            \"driver\": \"69232ae34af42b45b15c8201\",\n            \"type\": \"Sedan\",\n            \"brand\": \"Toyota\",\n            \"model\": \"Camry\",\n            \"color\": \"Black\",\n            \"plateNumber\": \"ABC123\",\n            \"image\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912623/Taxigate/vehicle-images/1763912618568-0001-2378385367225757052.png\",\n            \"status\": \"Pending\",\n            \"createdAt\": \"2025-11-23T15:43:45.417Z\"\n        }\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "Protected",
					"item": [
						{
							"name": "Register FCM Token",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"fcmToken\": \"your-fcm-token-here\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/register-fcm-token",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"register-fcm-token"
									]
								},
								"description": "Register FCM token for push notifications - protected route"
							},
							"response": [
								{
									"name": "Register FCM Token",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"fcmToken\": \"your-fcm-token-here\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/register-fcm-token",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"register-fcm-token"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "91"
										},
										{
											"key": "Date",
											"value": "Sun, 23 Nov 2025 15:47:36 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1763914199"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "143"
										},
										{
											"key": "ETag",
											"value": "W/\"8f-9RJKa+EFNcefsWQbDam94cdG3Mw\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"FCM token registered successfully. You will now receive push notifications.\",\n    \"data\": {\n        \"fcmTokenRegistered\": true\n    }\n}"
								}
							]
						},
						{
							"name": "Update Password",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"currentPassword\": \"password123\",\n    \"newPassword\": \"newpassword123\",\n    \"confirmPassword\": \"newpassword123\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/update-password",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"update-password"
									]
								},
								"description": "Update driver password - protected route (requires access token). Invalidates all existing tokens."
							},
							"response": [
								{
									"name": "Update Password",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"currentPassword\": \"password123\",\n    \"newPassword\": \"newpassword123\",\n    \"confirmPassword\": \"newpassword123\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/update-password",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"update-password"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "88"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:37:30 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764019961"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "93"
										},
										{
											"key": "ETag",
											"value": "W/\"5d-cWSELzVnD1pCW8Lp9EHDDxBCDsQ\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Password updated successfully. Please login again.\",\n    \"data\": {}\n}"
								}
							]
						},
						{
							"name": "Forgot Password",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/forgot-password",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"forgot-password"
									]
								},
								"description": "Request password reset - sends reset token to email (public route)"
							},
							"response": [
								{
									"name": "Forgot Password",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/forgot-password",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"forgot-password"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "85"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:38:27 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764019961"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "91"
										},
										{
											"key": "ETag",
											"value": "W/\"5b-YDP5fcrmkVtNP2g2GFRsi52uDeg\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Password reset link has been sent to your email.\",\n    \"data\": {}\n}"
								}
							]
						},
						{
							"name": "Reset Password",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\",\n    \"token\": \"9b18ac7a48a1f1a90d9388fefe38b283258b98a10490ae803a795984da30ab27\",\n    \"password\": \"newpassword123\",\n    \"confirmPassword\": \"newpassword123\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/reset-password",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"reset-password"
									]
								},
								"description": "Reset password using token from email (public route). Invalidates all existing tokens."
							},
							"response": [
								{
									"name": "Reset Password",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\",\n    \"token\": \"9b18ac7a48a1f1a90d9388fefe38b283258b98a10490ae803a795984da30ab27\",\n    \"password\": \"newpassword123\",\n    \"confirmPassword\": \"newpassword123\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/reset-password",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"reset-password"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "81"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:41:24 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764019961"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "108"
										},
										{
											"key": "ETag",
											"value": "W/\"6c-ippiLGNSYNAhkmx8mLvP1S0zwH4\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Password reset successfully. Please login with your new password.\",\n    \"data\": {}\n}"
								}
							]
						},
						{
							"name": "Delete Account",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"password\": \"newpassword123\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/delete-account",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"delete-account"
									]
								},
								"description": "Soft delete driver account - protected route (requires access token). Account can be recovered within 30 days."
							},
							"response": [
								{
									"name": "Delete Account",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"password\": \"newpassword123\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/delete-account",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"delete-account"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "83"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:40:06 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764019961"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "107"
										},
										{
											"key": "ETag",
											"value": "W/\"6b-ODss88AStW0suGmWP7fOyETmgbY\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Account deleted successfully. You can recover it within 30 days.\",\n    \"data\": {}\n}"
								}
							]
						},
						{
							"name": "Recover Account",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\",\n    \"password\": \"newpassword123\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/recover-account",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"recover-account"
									]
								},
								"description": "Recover soft-deleted account within 30 days (public route)"
							},
							"response": [
								{
									"name": "Recover Account",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\",\n    \"password\": \"newpassword123\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/recover-account",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"recover-account"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "82"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:40:36 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764019961"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "93"
										},
										{
											"key": "ETag",
											"value": "W/\"5d-tROaE/VM3XQKcUTWkhSbAqX5HLk\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Account recovered successfully. You can now login.\",\n    \"data\": {}\n}"
								}
							]
						},
						{
							"name": "Resend OTP",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"hammadsandhuu+1@gmail.com\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/resend-otp",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"resend-otp"
									]
								},
								"description": "Resend OTP to driver's email"
							},
							"response": [
								{
									"name": "Resend OTP",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"hammadsandhuu+1@gmail.com\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/resend-otp",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"resend-otp"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": null,
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "92"
										},
										{
											"key": "Date",
											"value": "Tue, 25 Nov 2025 10:00:39 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764067989"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "79"
										},
										{
											"key": "ETag",
											"value": "W/\"4f-SqHF8WWj0xl6zUrNRE6jZBzxpbw\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"New OTP has been sent to your email.\",\n    \"data\": {}\n}"
								}
							]
						}
					]
				},
				{
					"name": "Admin Actions",
					"item": [
						{
							"name": "Approve Driver",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"driverId\": \"{{driverId}}\",\n    \"status\": \"Approved\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/approve",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"approve"
									]
								},
								"description": "Approve or reject driver - protected admin route"
							},
							"response": [
								{
									"name": "Approve Driver",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"driverId\": \"{{driverId}}\",\n    \"status\": \"Approved\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/approve",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"approve"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "93"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:00:34 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764017601"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "ETag",
											"value": "W/\"7ad-sMFyiOXYvogQJgJK+hXXQ5jVZDk\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Content-Encoding",
											"value": "br"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										},
										{
											"key": "Transfer-Encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Driver approved successfully.\",\n    \"data\": {\n        \"driver\": {\n            \"isVerified\": true,\n            \"status\": \"Approved\",\n            \"paidStatus\": \"Unpaid\",\n            \"isOnline\": false,\n            \"otpSendCount\": 1,\n            \"fcmTokens\": [],\n            \"role\": \"driver\",\n            \"tokenVersion\": 0,\n            \"deletedAt\": null,\n            \"_id\": \"6924b7dbb0f080a5e514e780\",\n            \"email\": \"hammadsandhuu@gmail.com\",\n            \"phone\": \"+1234567890\",\n            \"otpLastSentAt\": \"2025-11-24T19:54:03.958Z\",\n            \"createdAt\": \"2025-11-24T19:54:03.976Z\",\n            \"updatedAt\": \"2025-11-24T20:00:34.355Z\",\n            \"firstName\": \"Hammad\",\n            \"lastName\": \"Sandhu\",\n            \"profilePicture\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014151/Taxigate/profilePicture/1764014149706-0001-2378385367225757052.png\",\n            \"bankpass\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014170/Taxigate/driver-documents/fhd1j3v44321gdetulp2.jpg\",\n            \"documentBackImage\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014170/Taxigate/driver-documents/o3riej6mxjf41qaxv4ff.jpg\",\n            \"documentFrontImage\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/hqp5zfogy9akqins5omr.jpg\",\n            \"driverLicenseBack\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014170/Taxigate/driver-documents/sbkvsity3k3lqt3nsb0r.jpg\",\n            \"driverLicenseFront\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/keo4ngyut2v08d1muzaq.jpg\",\n            \"driverPassBack\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/wlguyc0fyynkofqvi0lt.jpg\",\n            \"driverPassFront\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/pgxkaln3hecw8elmao6n.jpg\",\n            \"insurancePolicy\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/aucdv6fktuctme3nqocp.jpg\",\n            \"kiwaPermit\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014170/Taxigate/driver-documents/u1k24z7wvysqvkazi1oq.jpg\",\n            \"kvkUittreksel\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/pzqr82wvkba52gqedvdr.jpg\"\n        }\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "Profile Actions",
					"item": [
						{
							"name": "Get Driver Profile",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/drivers/profile",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"profile"
									]
								},
								"description": "Get driver profile - protected route"
							},
							"response": [
								{
									"name": "Get Driver Profile",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/api/drivers/profile",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"profile"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "96"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:19:04 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764018510"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "413"
										},
										{
											"key": "ETag",
											"value": "W/\"19d-xZNcTkBaNgxwS/tE16QTW6X4L04\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Profile fetched successfully.\",\n    \"data\": {\n        \"driver\": {\n            \"id\": \"6924b7dbb0f080a5e514e780\",\n            \"firstName\": \"Hammad\",\n            \"lastName\": \"Sandhu\",\n            \"email\": \"hammadsandhuu@gmail.com\",\n            \"phone\": \"+1234567890\",\n            \"profilePicture\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014151/Taxigate/profilePicture/1764014149706-0001-2378385367225757052.png\",\n            \"isVerified\": true,\n            \"status\": \"Approved\",\n            \"isOnline\": true\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Get Driver Documents",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/drivers/documents",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"documents"
									]
								},
								"description": "Get driver documents - protected route"
							},
							"response": [
								{
									"name": "Get Driver Documents",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/api/drivers/documents",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"documents"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "95"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:19:18 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764018510"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "ETag",
											"value": "W/\"5a4-JAC7E3iSAXfUR1RqIiU9ZOggvg0\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Content-Encoding",
											"value": "br"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										},
										{
											"key": "Transfer-Encoding",
											"value": "chunked"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Documents fetched successfully.\",\n    \"data\": {\n        \"documents\": {\n            \"id\": \"6924b7dbb0f080a5e514e780\",\n            \"bankpass\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014170/Taxigate/driver-documents/fhd1j3v44321gdetulp2.jpg\",\n            \"documentBackImage\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014170/Taxigate/driver-documents/o3riej6mxjf41qaxv4ff.jpg\",\n            \"documentFrontImage\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/hqp5zfogy9akqins5omr.jpg\",\n            \"driverLicenseBack\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014170/Taxigate/driver-documents/sbkvsity3k3lqt3nsb0r.jpg\",\n            \"driverLicenseFront\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/keo4ngyut2v08d1muzaq.jpg\",\n            \"driverPassBack\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/wlguyc0fyynkofqvi0lt.jpg\",\n            \"driverPassFront\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/pgxkaln3hecw8elmao6n.jpg\",\n            \"insurancePolicy\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/aucdv6fktuctme3nqocp.jpg\",\n            \"kiwaPermit\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014170/Taxigate/driver-documents/u1k24z7wvysqvkazi1oq.jpg\",\n            \"kvkUittreksel\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014171/Taxigate/driver-documents/pzqr82wvkba52gqedvdr.jpg\"\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Get Driver Vehicles",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/drivers/vehicles",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"vehicles"
									]
								},
								"description": "Get driver vehicles - protected route"
							},
							"response": [
								{
									"name": "Get Driver Vehicles",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/api/drivers/vehicles",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"vehicles"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "94"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:19:32 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764018510"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "365"
										},
										{
											"key": "ETag",
											"value": "W/\"16d-1i6iXT2+So/0NM7J8o+Hd2vEVSY\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Vehicles fetched successfully.\",\n    \"data\": {\n        \"vehicles\": [\n            {\n                \"id\": \"6924b869b0f080a5e514e78e\",\n                \"type\": \"Sedan\",\n                \"brand\": \"Toyota\",\n                \"model\": \"Camry\",\n                \"color\": \"Black\",\n                \"plateNumber\": \"ABC124\",\n                \"image\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014184/Taxigate/vehicle-images/1764014182932-0001-2378385367225757052.png\",\n                \"status\": \"Approved\"\n            }\n        ]\n    }\n}"
								}
							]
						},
						{
							"name": "Get Vehicle By ID",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/vehicle/{{vehicleId}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"vehicle",
										"{{vehicleId}}"
									]
								},
								"description": "Get single vehicle by ID - protected route (driver can only access their own vehicles)"
							},
							"response": [
								{
									"name": "Get Vehicle By ID",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/api/vehicle/{{vehicleId}}",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"vehicle",
												"{{vehicleId}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "92"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:20:24 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764018510"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "400"
										},
										{
											"key": "ETag",
											"value": "W/\"190-2lYLautFdPu7MJ2Rp29SW8EZY54\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Vehicle fetched successfully.\",\n    \"data\": {\n        \"vehicle\": {\n            \"id\": \"6924b869b0f080a5e514e78e\",\n            \"type\": \"Sedan\",\n            \"brand\": \"Toyota\",\n            \"model\": \"Camry\",\n            \"color\": \"Black\",\n            \"plateNumber\": \"ABC124\",\n            \"image\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014184/Taxigate/vehicle-images/1764014182932-0001-2378385367225757052.png\",\n            \"status\": \"Approved\",\n            \"createdAt\": \"2025-11-24T19:56:25.482Z\"\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Delete Vehicle",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/vehicle/{{vehicleId}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"vehicle",
										"{{vehicleId}}"
									]
								},
								"description": "Delete vehicle - protected route (driver can only delete their own vehicles)"
							},
							"response": [
								{
									"name": "Delete Vehicle",
									"originalRequest": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/api/vehicle/{{vehicleId}}",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"vehicle",
												"{{vehicleId}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "91"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:21:45 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764018510"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "72"
										},
										{
											"key": "ETag",
											"value": "W/\"48-s9ck5F1CgCB/av5YKL8haqyU8YI\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Vehicle deleted successfully.\",\n    \"data\": {}\n}"
								}
							]
						},
						{
							"name": "Update Vehicle",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "multipart/form-data",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "type",
											"value": "SUV",
											"type": "text",
											"disabled": true
										},
										{
											"key": "brand",
											"value": "Honda",
											"type": "text",
											"disabled": true
										},
										{
											"key": "model",
											"value": "CR-V",
											"type": "text",
											"disabled": true
										},
										{
											"key": "color",
											"value": "White",
											"type": "text",
											"disabled": true
										},
										{
											"key": "plateNumber",
											"value": "XYZ789",
											"type": "text",
											"disabled": true
										},
										{
											"key": "image",
											"type": "file",
											"src": "postman-cloud:///1f0c14eb-ba81-44d0-aa45-21074e99d17a",
											"disabled": true
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/vehicle/{{vehicleId}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"vehicle",
										"{{vehicleId}}"
									]
								},
								"description": "Update vehicle - protected route. Cannot update approved vehicles. Status resets to Pending after update."
							},
							"response": [
								{
									"name": "Update Vehicle",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "multipart/form-data",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "type",
													"value": "SUV",
													"type": "text",
													"disabled": true
												},
												{
													"key": "brand",
													"value": "Honda",
													"type": "text",
													"disabled": true
												},
												{
													"key": "model",
													"value": "CR-V",
													"type": "text",
													"disabled": true
												},
												{
													"key": "color",
													"value": "White",
													"type": "text",
													"disabled": true
												},
												{
													"key": "plateNumber",
													"value": "XYZ789",
													"type": "text",
													"disabled": true
												},
												{
													"key": "image",
													"type": "file",
													"src": "postman-cloud:///1f0c14eb-ba81-44d0-aa45-21074e99d17a",
													"disabled": true
												}
											]
										},
										"url": {
											"raw": "{{baseUrl}}/api/vehicle/{{vehicleId}}",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"vehicle",
												"{{vehicleId}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "92"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:34:30 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764019961"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "478"
										},
										{
											"key": "ETag",
											"value": "W/\"1de-xnABsPgR6j8twaP/7xUuqNIQjqw\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Vehicle updated successfully. Status reset to pending for admin review.\",\n    \"data\": {\n        \"vehicle\": {\n            \"id\": \"6924c124d3df73bf129d19bb\",\n            \"driver\": \"6924b7dbb0f080a5e514e780\",\n            \"type\": \"Sedan\",\n            \"brand\": \"Toyota\",\n            \"model\": \"Camry\",\n            \"color\": \"Black\",\n            \"plateNumber\": \"ABC124\",\n            \"image\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764016419/Taxigate/vehicle-images/1764016416708-0001-2378385367225757052.png\",\n            \"status\": \"Approved\",\n            \"createdAt\": \"2025-11-24T20:33:40.766Z\"\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Add Vehicle",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 201 || pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.vehicle && response.data.vehicle.id) {",
											"        pm.collectionVariables.set('vehicleId', response.data.vehicle.id);",
											"    }",
											"}"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "multipart/form-data",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "formdata",
									"formdata": [
										{
											"key": "type",
											"value": "Sedan",
											"type": "text"
										},
										{
											"key": "brand",
											"value": "Toyota",
											"type": "text"
										},
										{
											"key": "model",
											"value": "Camry",
											"type": "text"
										},
										{
											"key": "color",
											"value": "Black",
											"type": "text"
										},
										{
											"key": "plateNumber",
											"value": "ABC124",
											"type": "text"
										},
										{
											"key": "image",
											"type": "file",
											"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
										}
									]
								},
								"url": {
									"raw": "{{baseUrl}}/api/vehicle",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"vehicle"
									]
								},
								"description": "Add vehicle - protected route (requires access token)"
							},
							"response": [
								{
									"name": "Add Vehicle",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "multipart/form-data",
												"type": "text",
												"disabled": true
											}
										],
										"body": {
											"mode": "formdata",
											"formdata": [
												{
													"key": "type",
													"value": "Sedan",
													"type": "text"
												},
												{
													"key": "brand",
													"value": "Toyota",
													"type": "text"
												},
												{
													"key": "model",
													"value": "Camry",
													"type": "text"
												},
												{
													"key": "color",
													"value": "Black",
													"type": "text"
												},
												{
													"key": "plateNumber",
													"value": "ABC123",
													"type": "text"
												},
												{
													"key": "image",
													"type": "file",
													"src": "postman-cloud:///1f0c70d8-25ea-4b70-bb6a-3bcdbfb31537"
												}
											]
										},
										"url": {
											"raw": "{{baseUrl}}/api/vehicle",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"vehicle"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "94"
										},
										{
											"key": "Date",
											"value": "Sun, 23 Nov 2025 15:43:38 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1763914199"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "527"
										},
										{
											"key": "ETag",
											"value": "W/\"20f-m4Ze8phPeQwbGfOK0D36U0VzRU4\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Vehicle added successfully. Your request is pending admin approval. You will receive an email notification once approved.\",\n    \"data\": {\n        \"vehicle\": {\n            \"id\": \"69232bb14af42b45b15c820f\",\n            \"driver\": \"69232ae34af42b45b15c8201\",\n            \"type\": \"Sedan\",\n            \"brand\": \"Toyota\",\n            \"model\": \"Camry\",\n            \"color\": \"Black\",\n            \"plateNumber\": \"ABC123\",\n            \"image\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1763912623/Taxigate/vehicle-images/1763912618568-0001-2378385367225757052.png\",\n            \"status\": \"Pending\",\n            \"createdAt\": \"2025-11-23T15:43:45.417Z\"\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Get Online Status",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/drivers/online-status",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"online-status"
									]
								},
								"description": "Get driver online status - protected route"
							},
							"response": [
								{
									"name": "Get Online Status",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/api/drivers/online-status",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"online-status"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "91"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:35:41 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764019961"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "93"
										},
										{
											"key": "ETag",
											"value": "W/\"5d-axzLNx270+YsbZZudOZ074fYWxc\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Online status fetched successfully.\",\n    \"data\": {\n        \"isOnline\": true\n    }\n}"
								}
							]
						},
						{
							"name": "Set Online Status",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"isOnline\": true\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/online-status",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"online-status"
									]
								},
								"description": "Set driver online/offline status - protected route"
							},
							"response": [
								{
									"name": "Set Online Status",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"isOnline\": true\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/api/drivers/online-status",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"online-status"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "90"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:36:00 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764019961"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "78"
										},
										{
											"key": "ETag",
											"value": "W/\"4e-xXnuZt3W+m7s2SM9ZqWAa7TJZJQ\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Driver is now online\",\n    \"data\": {\n        \"isOnline\": true\n    }\n}"
								}
							]
						},
						{
							"name": "Get Onboarding Status",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/drivers/onboarding-status",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"onboarding-status"
									]
								},
								"description": "Get driver onboarding status - protected route"
							},
							"response": [
								{
									"name": "Get Onboarding Status",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/api/drivers/onboarding-status",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"drivers",
												"onboarding-status"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "89"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:36:46 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764019961"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "191"
										},
										{
											"key": "ETag",
											"value": "W/\"bf-jZmrAG+n0Rw3q9ltxNJ7MnuBdg0\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Onboarding status fetched successfully.\",\n    \"data\": {\n        \"onboardingStatus\": {\n            \"profileComplete\": true,\n            \"documentsComplete\": true,\n            \"vehicleAdded\": true,\n            \"adminApproved\": true\n        }\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "Driver Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    // Extract tokens from response body",
									"    const response = pm.response.json();",
									"    ",
									"    if (response.data && response.data.tokens) {",
									"        if (response.data.tokens.accessToken) {",
									"            pm.collectionVariables.set('driverAccessToken', response.data.tokens.accessToken);",
									"            console.log('Access token extracted from response body');",
									"        }",
									"        if (response.data.tokens.refreshToken) {",
									"            pm.collectionVariables.set('driverRefreshToken', response.data.tokens.refreshToken);",
									"            console.log('Refresh token extracted from response body');",
									"        }",
									"    }",
									"    ",
									"    // Extract driver ID from response",
									"    if (response.data && response.data.driver && response.data.driver.id) {",
									"        pm.collectionVariables.set('driverId', response.data.driver.id);",
									"        console.log('Driver ID extracted:', response.data.driver.id);",
									"    }",
									"    ",
									"    // Verify tokens were set",
									"    pm.test('Tokens extracted successfully', function() {",
									"        pm.expect(pm.collectionVariables.get('driverAccessToken')).to.not.be.undefined;",
									"        pm.expect(pm.collectionVariables.get('driverAccessToken')).to.not.be.empty;",
									"    });",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/drivers/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"drivers",
								"login"
							]
						},
						"description": "Driver login - generates new access + refresh tokens (only for approved drivers)"
					},
					"response": [
						{
							"name": "Driver Login",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"hammadsandhuu@gmail.com\",\n    \"password\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/login",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"login"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": null,
							"header": [
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "Expect-CT",
									"value": "max-age=0"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=15552000; includeSubDomains"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "X-RateLimit-Limit",
									"value": "100"
								},
								{
									"key": "X-RateLimit-Remaining",
									"value": "96"
								},
								{
									"key": "Date",
									"value": "Tue, 25 Nov 2025 09:57:32 GMT"
								},
								{
									"key": "X-RateLimit-Reset",
									"value": "1764067989"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "987"
								},
								{
									"key": "ETag",
									"value": "W/\"3db-ajpzM+IXbodutoAOBkj0BDS7Tyo\""
								},
								{
									"key": "Vary",
									"value": "Accept-Encoding"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": \"success\",\n    \"message\": \"Driver logged in successfully!\",\n    \"data\": {\n        \"driver\": {\n            \"id\": \"69257a08b7cac0512649f130\",\n            \"email\": \"hammadsandhuu@gmail.com\",\n            \"phone\": \"+1234567890\",\n            \"firstName\": \"Hammad\",\n            \"lastName\": \"Sandhu\",\n            \"profilePicture\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764063827/Taxigate/profilePicture/1764063825623-0001-2378385367225757052.png\",\n            \"isVerified\": true,\n            \"status\": \"Approved\",\n            \"isOnline\": true,\n            \"role\": \"driver\",\n            \"tokenVersion\": 1\n        },\n        \"tokens\": {\n            \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjU3YTA4YjdjYWMwNTEyNjQ5ZjEzMCIsInJvbGUiOiJkcml2ZXIiLCJuYW1lIjoiSGFtbWFkIiwidG9rZW5WZXJzaW9uIjoxLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzY0MDY0NjUzLCJleHAiOjE3NjQwNjU1NTN9.Nb8oTEZwCsEPYkXe68Xao6sytQ7zVomFWKzqkHH8NPs\",\n            \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjU3YTA4YjdjYWMwNTEyNjQ5ZjEzMCIsInJvbGUiOiJkcml2ZXIiLCJ0b2tlblZlcnNpb24iOjEsInR5cGUiOiJyZWZyZXNoIiwiaWF0IjoxNzY0MDY0NjUzLCJleHAiOjE3NjQ2Njk0NTN9.hUY1BWhAIDO2JtWG8voQ5VE_Ei_wp0mghmptVpNySAI\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Refresh Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    // Extract tokens from response body",
									"    const response = pm.response.json();",
									"    ",
									"    if (response.data && response.data.tokens) {",
									"        if (response.data.tokens.accessToken) {",
									"            pm.collectionVariables.set('driverAccessToken', response.data.tokens.accessToken);",
									"            console.log('Access token refreshed from response body');",
									"        }",
									"        if (response.data.tokens.refreshToken) {",
									"            pm.collectionVariables.set('driverRefreshToken', response.data.tokens.refreshToken);",
									"            console.log('Refresh token rotated from response body');",
									"        }",
									"    }",
									"    ",
									"    // Verify tokens were updated",
									"    pm.test('Tokens refreshed successfully', function() {",
									"        pm.expect(pm.collectionVariables.get('driverAccessToken')).to.not.be.undefined;",
									"        pm.expect(pm.collectionVariables.get('driverAccessToken')).to.not.be.empty;",
									"    });",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refreshToken\": \"{{driverRefreshToken}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/drivers/refresh-token",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"drivers",
								"refresh-token"
							]
						},
						"description": "Refresh access token using refresh token from request body (for mobile apps). Returns new access and refresh tokens in response body."
					},
					"response": [
						{
							"name": "Refresh Token",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"refreshToken\": \"{{driverRefreshToken}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/refresh-token",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"refresh-token"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": null,
							"header": [
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "Expect-CT",
									"value": "max-age=0"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=15552000; includeSubDomains"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "X-RateLimit-Limit",
									"value": "100"
								},
								{
									"key": "X-RateLimit-Remaining",
									"value": "98"
								},
								{
									"key": "Date",
									"value": "Tue, 25 Nov 2025 09:55:12 GMT"
								},
								{
									"key": "X-RateLimit-Reset",
									"value": "1764067989"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "987"
								},
								{
									"key": "ETag",
									"value": "W/\"3db-4ii1/eIrXeYcnRllUSlX+Nb6hxs\""
								},
								{
									"key": "Vary",
									"value": "Accept-Encoding"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": \"success\",\n    \"message\": \"Tokens refreshed successfully.\",\n    \"data\": {\n        \"driver\": {\n            \"id\": \"69257a08b7cac0512649f130\",\n            \"email\": \"hammadsandhuu@gmail.com\",\n            \"phone\": \"+1234567890\",\n            \"firstName\": \"Hammad\",\n            \"lastName\": \"Sandhu\",\n            \"profilePicture\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764063827/Taxigate/profilePicture/1764063825623-0001-2378385367225757052.png\",\n            \"isVerified\": true,\n            \"status\": \"Approved\",\n            \"isOnline\": true,\n            \"role\": \"driver\",\n            \"tokenVersion\": 0\n        },\n        \"tokens\": {\n            \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjU3YTA4YjdjYWMwNTEyNjQ5ZjEzMCIsInJvbGUiOiJkcml2ZXIiLCJuYW1lIjoiSGFtbWFkIiwidG9rZW5WZXJzaW9uIjowLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzY0MDY0NTE0LCJleHAiOjE3NjQwNjU0MTR9.wcSnUdfmDR6zcTog4b9TI8HBjHElfI8ZByuzs36P88I\",\n            \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjU3YTA4YjdjYWMwNTEyNjQ5ZjEzMCIsInJvbGUiOiJkcml2ZXIiLCJ0b2tlblZlcnNpb24iOjAsInR5cGUiOiJyZWZyZXNoIiwiaWF0IjoxNzY0MDY0NTE0LCJleHAiOjE3NjQ2NjkzMTR9.cOUMRi1mVrWN7Aaccec54RG8-zDhpf1Tmd8_cMvLtP0\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Logout",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{driverAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{baseUrl}}/api/drivers/logout",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"drivers",
								"logout"
							]
						},
						"description": "Driver logout - clears tokens and increments tokenVersion. Optional fcmToken to remove from notifications."
					},
					"response": [
						{
							"name": "Logout",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"fcmToken\": \"{{fcmToken}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/drivers/logout",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"logout"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": null,
							"header": [
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "Expect-CT",
									"value": "max-age=0"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=15552000; includeSubDomains"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "X-RateLimit-Limit",
									"value": "100"
								},
								{
									"key": "X-RateLimit-Remaining",
									"value": "97"
								},
								{
									"key": "Date",
									"value": "Tue, 25 Nov 2025 09:56:37 GMT"
								},
								{
									"key": "X-RateLimit-Reset",
									"value": "1764067989"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "101"
								},
								{
									"key": "ETag",
									"value": "W/\"65-hhzD0uTOv5y852KY4yO+DUsLq/A\""
								},
								{
									"key": "Vary",
									"value": "Accept-Encoding"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": \"success\",\n    \"message\": \"Logged out successfully. Your session has been terminated.\",\n    \"data\": {}\n}"
						}
					]
				}
			]
		},
		{
			"name": "Wallet",
			"item": [
				{
					"name": "Get Wallet Balance",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.data && response.data.wallet) {",
									"        console.log(' Wallet Balance:', response.data.wallet.balance, response.data.wallet.currency);",
									"        pm.test('Wallet balance retrieved', function() {",
									"            pm.response.to.have.status(200);",
									"            pm.expect(response.data.wallet).to.have.property('balance');",
									"            pm.expect(response.data.wallet).to.have.property('currency');",
									"        });",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{driverAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/drivers/wallet/balance",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"drivers",
								"wallet",
								"balance"
							]
						},
						"description": "Get driver's current wallet balance. Returns balance and currency information.\n\n**Response includes:**\n- `balance`: Current wallet balance (number)\n- `currency`: Currency code (default: EUR)\n- `driver`: Driver information (id, firstName, lastName)"
					},
					"response": [
						{
							"name": "Get Wallet Balance",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/drivers/wallet/balance",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"wallet",
										"balance"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": null,
							"header": [
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "Expect-CT",
									"value": "max-age=0"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=15552000; includeSubDomains"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "X-RateLimit-Limit",
									"value": "100"
								},
								{
									"key": "X-RateLimit-Remaining",
									"value": "87"
								},
								{
									"key": "Date",
									"value": "Tue, 25 Nov 2025 09:49:44 GMT"
								},
								{
									"key": "X-RateLimit-Reset",
									"value": "1764067298"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "203"
								},
								{
									"key": "ETag",
									"value": "W/\"cb-Dm1lKeRUKDH1kYt9aTyi94pdzas\""
								},
								{
									"key": "Vary",
									"value": "Accept-Encoding"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": \"success\",\n    \"message\": \"Wallet balance fetched successfully.\",\n    \"data\": {\n        \"wallet\": {\n            \"balance\": 45,\n            \"currency\": \"EUR\"\n        },\n        \"driver\": {\n            \"id\": \"69257a08b7cac0512649f130\",\n            \"firstName\": \"Hammad\",\n            \"lastName\": \"Sandhu\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Get Wallet Transactions",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.data && response.data.transactions) {",
									"        console.log(' Total transactions:', response.data.transactions.length);",
									"        console.log(' Pagination:', response.data.pagination);",
									"        ",
									"        pm.test('Wallet transactions retrieved', function() {",
									"            pm.response.to.have.status(200);",
									"            pm.expect(response.data).to.have.property('transactions');",
									"            pm.expect(response.data).to.have.property('pagination');",
									"        });",
									"        ",
									"        if (response.data.transactions.length > 0) {",
									"            const firstTransaction = response.data.transactions[0];",
									"            console.log(' Latest transaction:', {",
									"                amount: firstTransaction.amount,",
									"                type: firstTransaction.type,",
									"                description: firstTransaction.description,",
									"                balanceAfter: firstTransaction.balanceAfter",
									"            });",
									"        }",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{driverAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/drivers/wallet/transactions?page=1&limit=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"drivers",
								"wallet",
								"transactions"
							],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Page number (default: 1)"
								},
								{
									"key": "limit",
									"value": "10",
									"description": "Items per page (default: 10)"
								},
								{
									"key": "type",
									"value": "",
									"description": "Filter by type: credit or debit",
									"disabled": true
								},
								{
									"key": "sort",
									"value": "",
									"description": "Sort field (default: createdAt)",
									"disabled": true
								}
							]
						},
						"description": "Get driver's wallet transaction history with pagination.\n\n**Query Parameters:**\n- `page`: Page number (default: 1)\n- `limit`: Items per page (default: 10)\n- `type`: Filter by transaction type (credit/debit) - optional\n- `sort`: Sort field (default: createdAt) - optional\n\n**Response includes:**\n- `transactions`: Array of transaction objects\n  - `id`: Transaction ID\n  - `bookingId`: Associated booking ID\n  - `bookingDetails`: Booking information (from_location, to_location, price, date_time)\n  - `amount`: Transaction amount\n  - `type`: Transaction type (credit/debit)\n  - `description`: Transaction description\n  - `balanceAfter`: Wallet balance after this transaction\n  - `createdAt`: Transaction timestamp\n- `pagination`: Pagination metadata (page, limit, total, totalPages)"
					},
					"response": [
						{
							"name": "Get Wallet Transactions",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/drivers/wallet/transactions?page=1&limit=10",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"drivers",
										"wallet",
										"transactions"
									],
									"query": [
										{
											"key": "page",
											"value": "1",
											"description": "Page number (default: 1)"
										},
										{
											"key": "limit",
											"value": "10",
											"description": "Items per page (default: 10)"
										},
										{
											"key": "type",
											"value": "",
											"description": "Filter by type: credit or debit",
											"disabled": true
										},
										{
											"key": "sort",
											"value": "",
											"description": "Sort field (default: createdAt)",
											"disabled": true
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": null,
							"header": [
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "Expect-CT",
									"value": "max-age=0"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=15552000; includeSubDomains"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "X-RateLimit-Limit",
									"value": "100"
								},
								{
									"key": "X-RateLimit-Remaining",
									"value": "99"
								},
								{
									"key": "Date",
									"value": "Tue, 25 Nov 2025 09:53:17 GMT"
								},
								{
									"key": "X-RateLimit-Reset",
									"value": "1764067989"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "598"
								},
								{
									"key": "ETag",
									"value": "W/\"256-WgMHHfLJ5CiTgCTCkT5O5ZGKMy8\""
								},
								{
									"key": "Vary",
									"value": "Accept-Encoding"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": \"success\",\n    \"message\": \"Wallet transactions fetched successfully.\",\n    \"data\": {\n        \"transactions\": [\n            {\n                \"id\": \"69257bacb7cac0512649f15a\",\n                \"bookingId\": \"69257b58b7cac0512649f14e\",\n                \"bookingDetails\": {\n                    \"from_location\": \"Amsterdam Airport\",\n                    \"to_location\": \"Amsterdam Central Station\",\n                    \"price\": \"45\",\n                    \"date_time\": \"2024-12-25T10:00:00.000Z\"\n                },\n                \"amount\": 45,\n                \"type\": \"credit\",\n                \"description\": \"Payment received for booking from Amsterdam Airport to Amsterdam Central Station\",\n                \"balanceAfter\": 45,\n                \"createdAt\": \"2025-11-25T09:49:32.378Z\",\n                \"updatedAt\": \"2025-11-25T09:49:32.378Z\"\n            }\n        ],\n        \"pagination\": {\n            \"total\": 1,\n            \"page\": 1,\n            \"pages\": 1,\n            \"limit\": 10\n        }\n    }\n}"
						}
					]
				}
			]
		},
		{
			"name": "Admin",
			"item": [
				{
					"name": "Public",
					"item": [
						{
							"name": "Admin Signup",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 201) {",
											"    // Extract tokens from response body",
											"    const response = pm.response.json();",
											"    ",
											"    if (response.data && response.data.tokens) {",
											"        if (response.data.tokens.accessToken) {",
											"            pm.collectionVariables.set('adminAccessToken', response.data.tokens.accessToken);",
											"            console.log('Admin access token extracted from response body');",
											"        }",
											"        if (response.data.tokens.refreshToken) {",
											"            pm.collectionVariables.set('adminRefreshToken', response.data.tokens.refreshToken);",
											"            console.log('Admin refresh token extracted from response body');",
											"        }",
											"    }",
											"    ",
											"    // Extract admin ID from response",
											"    if (response.data && response.data.admin && response.data.admin.id) {",
											"        pm.collectionVariables.set('adminId', response.data.admin.id);",
											"        console.log('Admin ID extracted:', response.data.admin.id);",
											"    }",
											"    ",
											"    // Verify tokens were set",
											"    pm.test('Admin tokens extracted successfully', function() {",
											"        pm.expect(pm.collectionVariables.get('adminAccessToken')).to.not.be.undefined;",
											"        pm.expect(pm.collectionVariables.get('adminAccessToken')).to.not.be.empty;",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"Admin User\",\n    \"email\": \"admin@example.com\",\n    \"password\": \"admin123\",\n    \"passwordConfirm\": \"admin123\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/auth/signup",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"auth",
										"signup"
									]
								},
								"description": "Admin signup - generates access + refresh tokens"
							},
							"response": [
								{
									"name": "Admin Signup",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"name\": \"Admin User\",\n    \"email\": \"admin@example.com\",\n    \"password\": \"admin123\",\n    \"passwordConfirm\": \"admin123\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/auth/signup",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"auth",
												"signup"
											]
										}
									},
									"status": "Created",
									"code": 201,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "Set-Cookie",
											"value": "access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjMyYTNjNGFmNDJiNDViMTVjODFmNyIsInJvbGUiOiJhZG1pbiIsIm5hbWUiOiJBZG1pbiBVc2VyIiwidG9rZW5WZXJzaW9uIjowLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzYzOTEyMjUzLCJleHAiOjE3NjM5MTMxNTN9.HNRq48msYZexb2SCLPR6ukEb_flCuuL6uSLWVsiwWVc; Path=/; Expires=Sun, 23 Nov 2025 15:52:34 GMT; HttpOnly; SameSite=Strict"
										},
										{
											"key": "Set-Cookie",
											"value": "refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjMyYTNjNGFmNDJiNDViMTVjODFmNyIsInJvbGUiOiJhZG1pbiIsInRva2VuVmVyc2lvbiI6MCwidHlwZSI6InJlZnJlc2giLCJpYXQiOjE3NjM5MTIyNTMsImV4cCI6MTc2NDUxNzA1M30.1wKWybbBBxSGs5K8yJHWx1MaJfAlX-nFlumKRDie4do; Path=/admin/refresh-token; Expires=Sun, 30 Nov 2025 15:37:34 GMT; HttpOnly; SameSite=Strict"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "193"
										},
										{
											"key": "ETag",
											"value": "W/\"c1-SrpqLW+0mVuFcquvTGxzp9d80VE\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Date",
											"value": "Sun, 23 Nov 2025 15:37:34 GMT"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Admin registered successfully\",\n    \"data\": {\n        \"admin\": {\n            \"id\": \"69232a3c4af42b45b15c81f7\",\n            \"name\": \"Admin User\",\n            \"email\": \"admin@example.com\",\n            \"role\": \"admin\",\n            \"tokenVersion\": 0\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Admin Login",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    // Extract tokens from response body",
											"    const response = pm.response.json();",
											"    ",
											"    if (response.data && response.data.tokens) {",
											"        if (response.data.tokens.accessToken) {",
											"            pm.collectionVariables.set('adminAccessToken', response.data.tokens.accessToken);",
											"            console.log('Admin access token extracted from response body');",
											"        }",
											"        if (response.data.tokens.refreshToken) {",
											"            pm.collectionVariables.set('adminRefreshToken', response.data.tokens.refreshToken);",
											"            console.log('Admin refresh token extracted from response body');",
											"        }",
											"    }",
											"    ",
											"    // Extract admin ID from response",
											"    if (response.data && response.data.admin && response.data.admin.id) {",
											"        pm.collectionVariables.set('adminId', response.data.admin.id);",
											"        console.log('Admin ID extracted:', response.data.admin.id);",
											"    }",
											"    ",
											"    // Verify tokens were set",
											"    pm.test('Admin tokens extracted successfully', function() {",
											"        pm.expect(pm.collectionVariables.get('adminAccessToken')).to.not.be.undefined;",
											"        pm.expect(pm.collectionVariables.get('adminAccessToken')).to.not.be.empty;",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"admin@example.com\",\n    \"password\": \"admin123\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/auth/login",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"auth",
										"login"
									]
								},
								"description": "Admin login - generates access + refresh tokens"
							},
							"response": [
								{
									"name": "Admin Login",
									"originalRequest": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"admin@example.com\",\n    \"password\": \"admin123\"\n}"
										},
										"url": {
											"raw": "{{baseUrl}}/auth/login",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"auth",
												"login"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "Set-Cookie",
											"value": "access_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjMyYTNjNGFmNDJiNDViMTVjODFmNyIsInJvbGUiOiJhZG1pbiIsIm5hbWUiOiJBZG1pbiBVc2VyIiwidG9rZW5WZXJzaW9uIjowLCJ0eXBlIjoiYWNjZXNzIiwiaWF0IjoxNzYzOTEyMzA2LCJleHAiOjE3NjM5MTMyMDZ9.15ioFqhtHhOEvmJUeNHnwZfo4ygifni-4Sr8p2kmJOw; Path=/; Expires=Sun, 23 Nov 2025 15:53:26 GMT; HttpOnly; SameSite=Strict"
										},
										{
											"key": "Set-Cookie",
											"value": "refresh_token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY5MjMyYTNjNGFmNDJiNDViMTVjODFmNyIsInJvbGUiOiJhZG1pbiIsInRva2VuVmVyc2lvbiI6MCwidHlwZSI6InJlZnJlc2giLCJpYXQiOjE3NjM5MTIzMDYsImV4cCI6MTc2NDUxNzEwNn0.63Mx43Jw-ODfBb63bO_XS1AVkMvb1-n_YzLH3BtzQn8; Path=/admin/refresh-token; Expires=Sun, 30 Nov 2025 15:38:26 GMT; HttpOnly; SameSite=Strict"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "192"
										},
										{
											"key": "ETag",
											"value": "W/\"c0-hOKZP183kK7LjOWtEfyehOJRG6s\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Date",
											"value": "Sun, 23 Nov 2025 15:38:26 GMT"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Admin logged in successfully\",\n    \"data\": {\n        \"admin\": {\n            \"id\": \"69232a3c4af42b45b15c81f7\",\n            \"name\": \"Admin User\",\n            \"email\": \"admin@example.com\",\n            \"role\": \"admin\",\n            \"tokenVersion\": 0\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Refresh Token",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    // Extract tokens from response body",
											"    const response = pm.response.json();",
											"    ",
											"    if (response.data && response.data.tokens) {",
											"        if (response.data.tokens.accessToken) {",
											"            pm.collectionVariables.set('adminAccessToken', response.data.tokens.accessToken);",
											"            console.log('Admin access token refreshed from response body');",
											"        }",
											"        if (response.data.tokens.refreshToken) {",
											"            pm.collectionVariables.set('adminRefreshToken', response.data.tokens.refreshToken);",
											"            console.log('Admin refresh token rotated from response body');",
											"        }",
											"    }",
											"    ",
											"    // Verify tokens were updated",
											"    pm.test('Admin tokens refreshed successfully', function() {",
											"        pm.expect(pm.collectionVariables.get('adminAccessToken')).to.not.be.undefined;",
											"        pm.expect(pm.collectionVariables.get('adminAccessToken')).to.not.be.empty;",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Cookie",
										"value": "refresh_token={{adminRefreshToken}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/auth/refresh-token",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"auth",
										"refresh-token"
									]
								},
								"description": "Refresh admin access token using refresh token cookie. Returns new access and refresh tokens in response body. Note: Cookie path is /admin/refresh-token but route is /auth/refresh-token, so we manually send the cookie."
							},
							"response": []
						}
					]
				},
				{
					"name": "Protected",
					"item": [
						{
							"name": "Get All Vehicles (Admin)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/vehicle/admin/all?page=1&limit=10",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"vehicle",
										"admin",
										"all"
									],
									"query": [
										{
											"key": "page",
											"value": "1",
											"description": "Page number"
										},
										{
											"key": "limit",
											"value": "10",
											"description": "Items per page"
										},
										{
											"key": "status",
											"value": "Pending",
											"description": "Filter by status (Pending, Approved, Rejected)",
											"disabled": true
										},
										{
											"key": "driverId",
											"value": "{{driverId}}",
											"description": "Filter by driver ID",
											"disabled": true
										}
									]
								},
								"description": "Get all vehicles with pagination - protected admin route"
							},
							"response": [
								{
									"name": "Get All Vehicles (Admin)",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/api/vehicle/admin/all?page=1&limit=10",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"vehicle",
												"admin",
												"all"
											],
											"query": [
												{
													"key": "page",
													"value": "1",
													"description": "Page number"
												},
												{
													"key": "limit",
													"value": "10",
													"description": "Items per page"
												},
												{
													"key": "status",
													"value": "Pending",
													"description": "Filter by status (Pending, Approved, Rejected)",
													"disabled": true
												},
												{
													"key": "driverId",
													"value": "{{driverId}}",
													"description": "Filter by driver ID",
													"disabled": true
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "86"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:04:12 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764017601"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "619"
										},
										{
											"key": "ETag",
											"value": "W/\"26b-gDzK/B9WcxRArqJBGYCDPOAlN9Y\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Vehicles fetched successfully.\",\n    \"data\": {\n        \"vehicles\": [\n            {\n                \"id\": \"6924b869b0f080a5e514e78e\",\n                \"driver\": {\n                    \"id\": \"6924b7dbb0f080a5e514e780\",\n                    \"firstName\": \"Hammad\",\n                    \"lastName\": \"Sandhu\",\n                    \"email\": \"hammadsandhuu@gmail.com\",\n                    \"phone\": \"+1234567890\"\n                },\n                \"type\": \"Sedan\",\n                \"brand\": \"Toyota\",\n                \"model\": \"Camry\",\n                \"color\": \"Black\",\n                \"plateNumber\": \"ABC124\",\n                \"image\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014184/Taxigate/vehicle-images/1764014182932-0001-2378385367225757052.png\",\n                \"status\": \"Approved\",\n                \"createdAt\": \"2025-11-24T19:56:25.482Z\"\n            }\n        ],\n        \"pagination\": {\n            \"currentPage\": 1,\n            \"totalPages\": 1,\n            \"totalVehicles\": 1,\n            \"limit\": 10\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Get Vehicle By ID (Admin)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/vehicle/admin/{{vehicleId}}",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"vehicle",
										"admin",
										"{{vehicleId}}"
									]
								},
								"description": "Get vehicle by ID with driver details - protected admin route"
							},
							"response": [
								{
									"name": "Get Vehicle By ID (Admin)",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/api/vehicle/admin/{{vehicleId}}",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"vehicle",
												"admin",
												"{{vehicleId}}"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "85"
										},
										{
											"key": "Date",
											"value": "Mon, 24 Nov 2025 20:04:46 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764017601"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "540"
										},
										{
											"key": "ETag",
											"value": "W/\"21c-8KJK+5RU39ElL9C7UYr7KHtOTgc\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Vehicle fetched successfully.\",\n    \"data\": {\n        \"vehicle\": {\n            \"id\": \"6924b869b0f080a5e514e78e\",\n            \"driver\": {\n                \"id\": \"6924b7dbb0f080a5e514e780\",\n                \"firstName\": \"Hammad\",\n                \"lastName\": \"Sandhu\",\n                \"email\": \"hammadsandhuu@gmail.com\",\n                \"phone\": \"+1234567890\"\n            },\n            \"type\": \"Sedan\",\n            \"brand\": \"Toyota\",\n            \"model\": \"Camry\",\n            \"color\": \"Black\",\n            \"plateNumber\": \"ABC124\",\n            \"image\": \"https://res.cloudinary.com/dz3mtkhct/image/upload/v1764014184/Taxigate/vehicle-images/1764014182932-0001-2378385367225757052.png\",\n            \"status\": \"Approved\",\n            \"createdAt\": \"2025-11-24T19:56:25.482Z\"\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Approve Vehicle (Admin)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/vehicle/admin/{{vehicleId}}/approve",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"vehicle",
										"admin",
										"{{vehicleId}}",
										"approve"
									]
								},
								"description": "Approve vehicle - protected admin route"
							},
							"response": []
						},
						{
							"name": "Reject Vehicle (Admin)",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"reason\": \"Vehicle does not meet requirements\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/vehicle/admin/{{vehicleId}}/reject",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"vehicle",
										"admin",
										"{{vehicleId}}",
										"reject"
									]
								},
								"description": "Reject vehicle - protected admin route. Optional reason can be provided."
							},
							"response": []
						},
						{
							"name": "Logout",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/auth/logout",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"auth",
										"logout"
									]
								},
								"description": "Admin logout - clears tokens and increments tokenVersion"
							},
							"response": [
								{
									"name": "Logout",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/auth/logout",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"auth",
												"logout"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "Text",
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "Set-Cookie",
											"value": "access_token=loggedout; Path=/; Expires=Sun, 23 Nov 2025 15:39:18 GMT; HttpOnly; SameSite=Strict"
										},
										{
											"key": "Set-Cookie",
											"value": "refresh_token=loggedout; Path=/admin/refresh-token; Expires=Sun, 23 Nov 2025 15:39:18 GMT; HttpOnly; SameSite=Strict"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "101"
										},
										{
											"key": "ETag",
											"value": "W/\"65-hhzD0uTOv5y852KY4yO+DUsLq/A\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Date",
											"value": "Sun, 23 Nov 2025 15:39:08 GMT"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Logged out successfully. Your session has been terminated.\",\n    \"data\": {}\n}"
								}
							]
						}
					]
				},
				{
					"name": "Wallet",
					"item": [
						{
							"name": "Get Total Wallet Balance",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.totalWallet) {",
											"        console.log(' Total Wallet Balance:', response.data.totalWallet.totalBalance, response.data.totalWallet.currency);",
											"        console.log(' Total Drivers:', response.data.totalWallet.driverCount);",
											"        ",
											"        pm.test('Total wallet balance retrieved', function() {",
											"            pm.response.to.have.status(200);",
											"            pm.expect(response.data.totalWallet).to.have.property('totalBalance');",
											"            pm.expect(response.data.totalWallet).to.have.property('currency');",
											"            pm.expect(response.data.totalWallet).to.have.property('driverCount');",
											"        });",
											"        ",
											"        if (response.data.drivers && response.data.drivers.length > 0) {",
											"            console.log(' Individual driver balances:', response.data.drivers.length, 'drivers');",
											"            response.data.drivers.forEach((driver, index) => {",
											"                if (index < 5) { // Show first 5",
											"                    console.log(`  ${index + 1}. ${driver.firstName} ${driver.lastName}: ${driver.walletBalance}`);",
											"                }",
											"            });",
											"        }",
											"    }",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/admin/wallet/total",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"admin",
										"wallet",
										"total"
									]
								},
								"description": "Get total wallet balance across all drivers (Admin only).\n\n**Response includes:**\n- `totalWallet`: \n  - `totalBalance`: Sum of all driver wallet balances\n  - `currency`: Currency code (default: EUR)\n  - `driverCount`: Total number of drivers\n- `drivers`: Array of individual driver wallet balances\n  - `id`: Driver ID\n  - `firstName`: Driver first name\n  - `lastName`: Driver last name\n  - `email`: Driver email\n  - `walletBalance`: Individual driver wallet balance\n\n**Note:** Only includes non-deleted drivers. Drivers are sorted by wallet balance (highest first)."
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Booking",
			"item": [
				{
					"name": "Public",
					"item": [
						{
							"name": "Create Booking",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 201) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking && response.data.booking.id) {",
											"        pm.collectionVariables.set('bookingId', response.data.booking.id);",
											"        console.log('Booking ID extracted:', response.data.booking.id);",
											"    }",
											"    ",
											"    pm.test('Booking created successfully', function() {",
											"        pm.response.to.have.status(201);",
											"        pm.expect(pm.collectionVariables.get('bookingId')).to.not.be.undefined;",
											"    });",
											"}"
										],
										"type": "text/javascript",
										"packages": {},
										"requests": {}
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"from_location\": \"Amsterdam Airport\",\n    \"to_location\": \"Amsterdam Central Station\",\n    \"date_time\": \"2024-12-25T10:00:00Z\",\n    \"cat_title\": \"Standard\",\n    \"price\": \"50\",\n    \"user_name\": \"John Doe\",\n    \"email\": \"customer@example.com\",\n    \"num_passengers\": 2,\n    \"luggage\": \"2 bags\",\n    \"number\": \"+1234567890\",\n    \"note_description\": \"Please arrive 10 minutes early\",\n    \"distance\": \"15 km\",\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/bookings",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings"
									]
								},
								"description": "Create a new booking (public route - no auth required). \n\n**Validation:**\n- date_time must be in the future\n- Bookings < 150 are automatically notified to online drivers\n- Bookings >= 150 require admin assignment\n\n**Status:**\n- New bookings start with status 'pending'"
							},
							"response": []
						},
						{
							"name": "Get Booking Status",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/status",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"status"
									]
								},
								"description": "Get current status of a booking by ID. Returns status, driverId, assignmentType, isAccepted, and isRejected."
							},
							"response": []
						}
					]
				},
				{
					"name": "Driver Protected",
					"item": [
						{
							"name": "Accept Booking",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking) {",
											"        console.log('Booking accepted:', response.data.booking.id);",
											"    }",
											"    ",
											"    pm.test('Booking accepted successfully', function() {",
											"        pm.response.to.have.status(200);",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/accept",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"accept"
									]
								},
								"description": "Accept a booking (driver must be online). Only works for bookings < 150. High-value bookings (>=150) must be assigned by admin.\n\n**Status Flow:**\n- If booking time is in the future  status set to 'upcoming'\n- If booking time is now/past  status set to 'accepted'\n\n**Validation:**\n- Driver must be online\n- Booking must not be expired\n- Driver cannot have another active booking\n- Booking must be in 'pending' status"
							},
							"response": []
						},
						{
							"name": "Reject Booking",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    pm.test('Booking rejected successfully', function() {",
											"        pm.response.to.have.status(200);",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"reason\": \"Not available for this trip\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/reject",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"reject"
									]
								},
								"description": "Reject a booking (driver). For long-distance bookings (>150), only the admin-assigned driver can reject. Sets status to 'rejected' and records an optional reason."
							},
							"response": []
						},
						{
							"name": "Get Available Bookings",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/driver/available",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"driver",
										"available"
									]
								},
								"description": "Get available bookings for the driver. Returns pending auto-assigned bookings (distance  150) that any driver can accept."
							},
							"response": []
						},
						{
							"name": "Complete Booking",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking) {",
											"        console.log('Booking completed:', response.data.booking.id);",
											"    }",
											"    ",
											"    pm.test('Booking completed successfully', function() {",
											"        pm.response.to.have.status(200);",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/complete",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"complete"
									]
								},
								"description": "Complete a booking (driver must be online and assigned to the booking). \n\n**Requirements:**\n- Booking must be in 'dropoff' status (cannot skip status sequence)\n- Driver must be assigned to the booking\n- Sets status to 'completed' and isPaid to true\n- Adds amount to driver's wallet"
							},
							"response": [
								{
									"name": "Complete Booking",
									"originalRequest": {
										"method": "PATCH",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/complete",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"api",
												"bookings",
												"{{bookingId}}",
												"complete"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": null,
									"header": [
										{
											"key": "Access-Control-Allow-Origin",
											"value": "*"
										},
										{
											"key": "Content-Security-Policy",
											"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
										},
										{
											"key": "X-DNS-Prefetch-Control",
											"value": "off"
										},
										{
											"key": "Expect-CT",
											"value": "max-age=0"
										},
										{
											"key": "X-Frame-Options",
											"value": "SAMEORIGIN"
										},
										{
											"key": "Strict-Transport-Security",
											"value": "max-age=15552000; includeSubDomains"
										},
										{
											"key": "X-Download-Options",
											"value": "noopen"
										},
										{
											"key": "X-Content-Type-Options",
											"value": "nosniff"
										},
										{
											"key": "X-Permitted-Cross-Domain-Policies",
											"value": "none"
										},
										{
											"key": "Referrer-Policy",
											"value": "no-referrer"
										},
										{
											"key": "X-XSS-Protection",
											"value": "0"
										},
										{
											"key": "X-RateLimit-Limit",
											"value": "100"
										},
										{
											"key": "X-RateLimit-Remaining",
											"value": "93"
										},
										{
											"key": "Date",
											"value": "Tue, 25 Nov 2025 09:40:36 GMT"
										},
										{
											"key": "X-RateLimit-Reset",
											"value": "1764065572"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "594"
										},
										{
											"key": "ETag",
											"value": "W/\"252-vhnmthJPpI7FahphnBiAGoJmh9U\""
										},
										{
											"key": "Vary",
											"value": "Accept-Encoding"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"status\": \"success\",\n    \"message\": \"Booking completed successfully. Amount added to wallet.\",\n    \"data\": {\n        \"booking\": {\n            \"id\": \"6925794f00d16dff4d610d70\",\n            \"from_location\": \"Amsterdam Airport\",\n            \"to_location\": \"Amsterdam Central Station\",\n            \"num_passengers\": 1,\n            \"date_time\": \"2024-12-25T10:00:00.000Z\",\n            \"cat_title\": \"Standard\",\n            \"price\": \"45\",\n            \"user_name\": \"Test User\",\n            \"email\": \"test@example.com\",\n            \"commission\": \"0\",\n            \"driverPrice\": \"0\",\n            \"driverId\": \"6924b7dbb0f080a5e514e780\",\n            \"status\": \"completed\",\n            \"isPaid\": true,\n            \"createdAt\": \"2025-11-25T09:39:27.047Z\",\n            \"updatedAt\": \"2025-11-25T09:40:37.126Z\"\n        },\n        \"wallet\": {\n            \"amountAdded\": 45,\n            \"newBalance\": 45\n        }\n    }\n}"
								}
							]
						},
						{
							"name": "Start Ride",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking) {",
											"        console.log('Ride started:', response.data.booking.id);",
											"        console.log('Status:', response.data.booking.status);",
											"    }",
											"    ",
											"    pm.test('Ride started successfully', function() {",
											"        pm.response.to.have.status(200);",
											"        pm.expect(pm.response.json().data.booking.status).to.equal('started');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/start",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"start"
									]
								},
								"description": "Start a ride (driver must be online). \n\n**Requirements:**\n- Booking must be in 'upcoming' status\n- Booking time must have been reached (cannot start early)\n- Driver must be assigned to the booking\n- Driver cannot have another active booking\n- Sets status to 'started'"
							},
							"response": []
						},
						{
							"name": "Pickup",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking) {",
											"        console.log('Pickup marked:', response.data.booking.id);",
											"        console.log('Status:', response.data.booking.status);",
											"    }",
											"    ",
											"    pm.test('Pickup status updated successfully', function() {",
											"        pm.response.to.have.status(200);",
											"        pm.expect(pm.response.json().data.booking.status).to.equal('picked_up');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/pickup",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"pickup"
									]
								},
								"description": "Mark pickup (driver must be online). \n\n**Requirements:**\n- Booking must be in 'started' status (cannot skip status sequence)\n- Driver must be assigned to the booking\n- Sets status to 'picked_up'"
							},
							"response": []
						},
						{
							"name": "Dropoff",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking) {",
											"        console.log('Dropoff marked:', response.data.booking.id);",
											"        console.log('Status:', response.data.booking.status);",
											"    }",
											"    ",
											"    pm.test('Dropoff status updated successfully', function() {",
											"        pm.response.to.have.status(200);",
											"        pm.expect(pm.response.json().data.booking.status).to.equal('dropped_off');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/dropoff",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"dropoff"
									]
								},
								"description": "Mark dropoff at destination (driver must be online). \n\n**Requirements:**\n- Booking must be in 'picked_up' status (cannot skip status sequence)\n- Driver must be assigned to the booking\n- Sets status to 'dropped_off' (required before completing booking)"
							},
							"response": []
						},
						{
							"name": "Get Active Booking",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/driver/active?page=1&limit=10",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"driver",
										"active"
									],
									"query": [
										{
											"key": "page",
											"value": "1",
											"description": "Page number"
										},
										{
											"key": "limit",
											"value": "10",
											"description": "Items per page"
										},
										{
											"key": "sort",
											"value": "-date_time",
											"description": "Sort by field (- for descending)",
											"disabled": true
										},
										{
											"key": "fields",
											"value": "from_location,to_location,date_time,price,status",
											"description": "Select specific fields",
											"disabled": true
										}
									]
								},
								"description": "Get driver's single active booking (statuses: 'started', 'picked_up', 'dropped_off'). Returns null if driver has no active booking."
							},
							"response": []
						},
						{
							"name": "Get Completed Bookings",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/driver/completed?page=1&limit=10",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"driver",
										"completed"
									],
									"query": [
										{
											"key": "page",
											"value": "1",
											"description": "Page number"
										},
										{
											"key": "limit",
											"value": "10",
											"description": "Items per page"
										},
										{
											"key": "sort",
											"value": "-date_time",
											"description": "Sort by field (- for descending)",
											"disabled": true
										}
									]
								},
								"description": "Get driver's completed bookings (status: 'completed'). Supports pagination, filtering, sorting, and field selection."
							},
							"response": []
						},
						{
							"name": "Get Upcoming Bookings",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/driver/upcoming?page=1&limit=10",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"driver",
										"upcoming"
									],
									"query": [
										{
											"key": "page",
											"value": "1",
											"description": "Page number"
										},
										{
											"key": "limit",
											"value": "10",
											"description": "Items per page"
										},
										{
											"key": "sort",
											"value": "date_time",
											"description": "Sort by field",
											"disabled": true
										}
									]
								},
								"description": "Get driver's upcoming bookings. Returns bookings with status 'accepted' for that driver (future rides). Sorted by nearest date_time. Supports pagination, filtering, sorting, and field selection."
							},
							"response": []
						},
						{
							"name": "Start Ride",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking) {",
											"        console.log('Ride started:', response.data.booking.id);",
											"        console.log('Status:', response.data.booking.status);",
											"    }",
											"    ",
											"    pm.test('Ride started successfully', function() {",
											"        pm.response.to.have.status(200);",
											"        pm.expect(pm.response.json().data.booking.status).to.equal('started');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/start",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"start"
									]
								},
								"description": "Start a ride (driver must be online). \n\n**Requirements:**\n- Booking must be in 'upcoming' status\n- Booking time must have been reached (cannot start early)\n- Driver must be assigned to the booking\n- Driver cannot have another active booking\n- Sets status to 'started'"
							},
							"response": []
						},
						{
							"name": "Pickup",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking) {",
											"        console.log('Pickup marked:', response.data.booking.id);",
											"        console.log('Status:', response.data.booking.status);",
											"    }",
											"    ",
											"    pm.test('Pickup status updated successfully', function() {",
											"        pm.response.to.have.status(200);",
											"        pm.expect(pm.response.json().data.booking.status).to.equal('pickup');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/pickup",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"pickup"
									]
								},
								"description": "Mark pickup (driver must be online). \n\n**Requirements:**\n- Booking must be in 'started' status (cannot skip status sequence)\n- Driver must be assigned to the booking\n- Sets status to 'pickup'"
							},
							"response": []
						},
						{
							"name": "Arrived",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking) {",
											"        console.log('Arrived marked:', response.data.booking.id);",
											"        console.log('Status:', response.data.booking.status);",
											"    }",
											"    ",
											"    pm.test('Arrived status updated successfully', function() {",
											"        pm.response.to.have.status(200);",
											"        pm.expect(pm.response.json().data.booking.status).to.equal('arrived');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/arrived",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"arrived"
									]
								},
								"description": "Mark arrived at pickup location (driver must be online). \n\n**Requirements:**\n- Booking must be in 'pickup' status (cannot skip status sequence)\n- Driver must be assigned to the booking\n- Sets status to 'arrived'"
							},
							"response": []
						},
						{
							"name": "Dropoff",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking) {",
											"        console.log('Dropoff marked:', response.data.booking.id);",
											"        console.log('Status:', response.data.booking.status);",
											"    }",
											"    ",
											"    pm.test('Dropoff status updated successfully', function() {",
											"        pm.response.to.have.status(200);",
											"        pm.expect(pm.response.json().data.booking.status).to.equal('dropoff');",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{driverAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/dropoff",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"dropoff"
									]
								},
								"description": "Mark dropoff at destination (driver must be online). \n\n**Requirements:**\n- Booking must be in 'arrived' status (cannot skip status sequence)\n- Driver must be assigned to the booking\n- Sets status to 'dropoff' (required before completing booking)"
							},
							"response": []
						}
					]
				},
				{
					"name": "Admin Protected",
					"item": [
						{
							"name": "Get All Bookings",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings?page=1&limit=10",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings"
									],
									"query": [
										{
											"key": "page",
											"value": "1",
											"description": "Page number"
										},
										{
											"key": "limit",
											"value": "10",
											"description": "Items per page"
										},
										{
											"key": "sort",
											"value": "-createdAt",
											"description": "Sort by field (- for descending)",
											"disabled": true
										},
										{
											"key": "status",
											"value": "pending",
											"description": "Filter by status (pending, accepted, upcoming, started, pickup, arrived, dropoff, completed, expired, cancelled)",
											"disabled": true
										},
										{
											"key": "from_location",
											"value": "Amsterdam",
											"description": "Filter by from_location",
											"disabled": true
										},
										{
											"key": "fields",
											"value": "from_location,to_location,date_time,price,status,user_name",
											"description": "Select specific fields",
											"disabled": true
										}
									]
								},
								"description": "Get all bookings (admin only). Supports pagination, filtering, sorting, and field selection. Use query parameters to filter by status, location, etc."
							},
							"response": []
						},
						{
							"name": "Assign Booking to Driver",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    const response = pm.response.json();",
											"    if (response.data && response.data.booking) {",
											"        console.log('Booking assigned:', response.data.booking.id);",
											"    }",
											"    ",
											"    pm.test('Booking assigned successfully', function() {",
											"        pm.response.to.have.status(200);",
											"    });",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"driverId\": \"{{driverId}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/assign-driver",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"assign-driver"
									]
								},
								"description": "Assign a long-distance booking (>150) to a driver (admin only). Driver must later accept the booking.\n\n**Status Flow:**\n- Booking remains in 'pending' status until the assigned driver accepts\n\n**Validation:**\n- Booking must be > 150 (admin-assigned)\n- Booking must be in 'pending' or 'rejected' status"
							},
							"response": []
						},
						{
							"name": "Unassign Booking Driver",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/unassign-driver",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"unassign-driver"
									]
								},
								"description": "Unassign the driver from a long-distance booking (>150) while it is still pending or rejected."
							},
							"response": []
						},
						{
							"name": "View Pending Long-Distance Bookings",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/admin/pending-long-distance",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"admin",
										"pending-long-distance"
									]
								},
								"description": "View all pending long-distance bookings (>150) that require admin assignment."
							},
							"response": []
						},
						{
							"name": "View Admin-Assigned Bookings",
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{adminAccessToken}}",
											"type": "string"
										}
									]
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/admin/assigned",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"admin",
										"assigned"
									]
								},
								"description": "View all bookings with assignmentType 'admin' (long-distance bookings managed by admin)."
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "Real-Time Notifications",
			"item": [
				{
					"name": "Subscribe to Driver Channel (WebSocket)",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// Ably WebSocket Connection Script",
									"// This script shows how to connect and subscribe to Ably channels",
									"",
									"const ablyApiKey = pm.collectionVariables.get('ablyApiKey');",
									"",
									"if (!ablyApiKey) {",
									"    console.log('  Please set ablyApiKey in environment variables');",
									"    console.log('Get your key from: https://ably.com');",
									"} else {",
									"    console.log(' Ably API Key found');",
									"    console.log(' Connecting to Ably WebSocket...');",
									"}",
									"",
									"// Connection message format for Ably",
									"const connectionMessage = {",
									"    action: 'auth',",
									"    key: ablyApiKey",
									"};",
									"",
									"console.log('Connection message:', JSON.stringify(connectionMessage, null, 2));"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"// Test script for WebSocket connection",
									"pm.test('WebSocket connection established', function() {",
									"    // Note: WebSocket testing in Postman may be limited",
									"    // Check the connection status manually",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "wss://realtime.ably.io?key={{ablyApiKey}}&format=json&heartbeats=true",
							"protocol": "wss",
							"host": [
								"realtime",
								"ably",
								"io"
							],
							"query": [
								{
									"key": "key",
									"value": "{{ablyApiKey}}",
									"description": "Your Ably API Key"
								},
								{
									"key": "format",
									"value": "json"
								},
								{
									"key": "heartbeats",
									"value": "true"
								}
							]
						},
						"description": "WebSocket connection to Ably for real-time notifications. \n\n**Setup Instructions:**\n1. Get your Ably API Key from https://ably.com\n2. Set `{{ablyApiKey}}` in environment variables\n3. Connect to this WebSocket\n4. Send authentication message (see Pre-request Script)\n5. Subscribe to 'drivers' channel\n6. Listen for events: new-booking, booking-taken, booking-assigned, booking-cancelled, upcoming-booking-reminder\n\n**Note:** Postman WebSocket support may vary. For best results, use a dedicated WebSocket client or the Ably JavaScript SDK."
					},
					"response": []
				},
				{
					"name": "Ably Channel Subscription Guide",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"health"
							]
						},
						"description": "**Real-Time Notifications Setup Guide**\n\n## Ably Configuration\n\n### 1. Get Ably API Key\n- Sign up at https://ably.com\n- Create an app and get your API key\n- Add to environment: `ablyApiKey`\n\n### 2. Channel & Events\n- **Channel:** `drivers`\n- **Events:**\n  - `new-booking` - New booking created (< 150)\n  - `booking-taken` - Booking accepted by driver\n  - `booking-assigned` - Booking assigned by admin (>= 150)\n  - `booking-cancelled` - Booking cancelled\n  - `upcoming-booking-reminder` - Reminder sent 30 minutes before booking time (for bookings > 2 days in future)\n\n### 3. Using JavaScript SDK (Recommended)\n```javascript\nconst Ably = require('ably');\nconst ably = new Ably.Realtime({ key: 'YOUR_API_KEY' });\n\nconst channel = ably.channels.get('drivers');\n\nchannel.subscribe('new-booking', (message) => {\n    console.log('New booking:', message.data);\n});\n\nchannel.subscribe('booking-taken', (message) => {\n    console.log('Booking taken:', message.data);\n});\n\nchannel.subscribe('booking-assigned', (message) => {\n    console.log('Booking assigned:', message.data);\n});\n\nchannel.subscribe('booking-cancelled', (message) => {\n    console.log('Booking cancelled:', message.data);\n});\n\nchannel.subscribe('upcoming-booking-reminder', (message) => {\n    console.log('Upcoming booking reminder:', message.data);\n});\n```\n\n### 4. WebSocket URL\n```\nwss://realtime.ably.io/?key=YOUR_API_KEY&format=json&heartbeats=true\n```\n\n### 5. Subscribe Message Format\n```json\n{\n    \"action\": \"subscribe\",\n    \"channel\": \"drivers\",\n    \"events\": [\"new-booking\", \"booking-taken\", \"booking-assigned\", \"booking-cancelled\", \"upcoming-booking-reminder\"]\n}\n```\n\n### 6. Event Payload Examples\n\n**new-booking:**\n```json\n{\n    \"bookingId\": \"...\",\n    \"from_location\": \"...\",\n    \"to_location\": \"...\",\n    \"date_time\": \"...\",\n    \"price\": \"...\",\n    \"onlineDriverIds\": [...]\n}\n```\n\n**booking-taken:**\n```json\n{\n    \"bookingId\": \"...\",\n    \"driverId\": \"...\",\n    \"status\": \"accepted\" or \"upcoming\",\n    \"onlineDriverIds\": [...]\n}\n```\n\n**booking-assigned:**\n```json\n{\n    \"bookingId\": \"...\",\n    \"driverId\": \"...\",\n    \"driver\": {...},\n    \"from_location\": \"...\",\n    \"to_location\": \"...\",\n    \"status\": \"accepted\" or \"upcoming\"\n}\n```\n\n**booking-cancelled:**\n```json\n{\n    \"bookingId\": \"...\",\n    \"previousStatus\": \"accepted\" or \"upcoming\" or \"started\" or \"pickup\" or \"arrived\" or \"dropoff\",\n    \"reason\": \"...\",\n    \"onlineDriverIds\": [...]\n}\n```\n\n**upcoming-booking-reminder:**\n```json\n{\n    \"bookingId\": \"...\",\n    \"driverId\": \"...\",\n    \"from_location\": \"...\",\n    \"to_location\": \"...\",\n    \"date_time\": \"...\",\n    \"price\": \"...\"\n}\n```\n\n### 7. Booking Status Flow\n\n**Status Sequence:**\n1. `pending` - New booking created by customer\n2. `accepted` - Driver accepted booking (if booking time is now/past)\n3. `upcoming` - Driver accepted booking (if booking time is in future)\n4. `started` - Driver tapped \"Start Ride\"\n5. `pickup` - Driver is on the way to pick passenger\n6. `arrived` - Driver reached pickup location\n7. `dropoff` - Driver dropped passenger at destination\n8. `completed` - Booking finished\n9. `expired` - Booking time has passed without being completed\n10. `cancelled` - Booking cancelled\n\n**Important Rules:**\n- Driver can only have ONE active booking at a time (statuses: accepted, upcoming, started, pickup, arrived, dropoff)\n- Status transitions must follow the exact sequence (cannot skip states)\n- Expired bookings cannot be accepted or started\n- Bookings with future date_time are automatically set to 'upcoming' when accepted"
					},
					"response": []
				},
				{
					"name": "Test Real-Time: Create Booking & Listen",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    if (response.data && response.data.booking) {",
									"        pm.collectionVariables.set('bookingId', response.data.booking.id);",
									"        ",
									"        console.log(' Booking created:', response.data.booking.id);",
									"        console.log(' Real-time notification should be sent to online drivers');",
									"        console.log('   Event: new-booking');",
									"        console.log('   Channel: drivers');",
									"        ",
									"        const price = Number(response.data.booking.price);",
									"        if (price < 150) {",
									"            console.log(' Booking < 150 - Notification sent to online drivers');",
									"        } else {",
									"            console.log('  Booking >= 150 - Requires admin assignment (no notification)');",
									"        }",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"from_location\": \"Amsterdam Airport\",\n    \"to_location\": \"Amsterdam Central Station\",\n    \"date_time\": \"2024-12-25T10:00:00Z\",\n    \"cat_title\": \"Standard\",\n    \"price\": \"45\",\n    \"user_name\": \"Test User\",\n    \"email\": \"test@example.com\",\n    \"num_passengers\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings"
							]
						},
						"description": "Create a test booking (< 150) to trigger a 'new-booking' real-time notification. \n\n**To test real-time notifications:**\n1. First, subscribe to the 'drivers' channel using Ably SDK or WebSocket\n2. Ensure at least one driver is online (use Set Online Status)\n3. Create this booking\n4. You should receive a 'new-booking' event on the subscribed channel\n\n**Expected Notification:**\n- Event: `new-booking`\n- Channel: `drivers`\n- Recipients: All online drivers"
					},
					"response": [
						{
							"name": "Test Real-Time: Create Booking & Listen",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"from_location\": \"Amsterdam Airport\",\n    \"to_location\": \"Amsterdam Central Station\",\n    \"date_time\": \"2024-12-25T10:00:00Z\",\n    \"cat_title\": \"Standard\",\n    \"price\": \"45\",\n    \"user_name\": \"Test User\",\n    \"email\": \"test@example.com\",\n    \"num_passengers\": 1\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/bookings",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "Expect-CT",
									"value": "max-age=0"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=15552000; includeSubDomains"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "X-RateLimit-Limit",
									"value": "100"
								},
								{
									"key": "X-RateLimit-Remaining",
									"value": "81"
								},
								{
									"key": "Date",
									"value": "Sun, 23 Nov 2025 15:53:56 GMT"
								},
								{
									"key": "X-RateLimit-Reset",
									"value": "1763914199"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "500"
								},
								{
									"key": "ETag",
									"value": "W/\"1f4-DK+LenDhV+4nJqOL5sE+vh+YnPo\""
								},
								{
									"key": "Vary",
									"value": "Accept-Encoding"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": \"success\",\n    \"message\": \"Booking created successfully\",\n    \"data\": {\n        \"booking\": {\n            \"id\": \"69232e144af42b45b15c8233\",\n            \"from_location\": \"Amsterdam Airport\",\n            \"to_location\": \"Amsterdam Central Station\",\n            \"num_passengers\": 1,\n            \"date_time\": \"2024-12-25T10:00:00.000Z\",\n            \"cat_title\": \"Standard\",\n            \"price\": \"45\",\n            \"user_name\": \"Test User\",\n            \"email\": \"test@example.com\",\n            \"commission\": \"0\",\n            \"driverPrice\": \"0\",\n            \"driverId\": null,\n            \"status\": \"pending\",\n            \"isPaid\": false,\n            \"createdAt\": \"2025-11-23T15:53:56.923Z\",\n            \"updatedAt\": \"2025-11-23T15:53:56.923Z\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Test Real-Time: Accept Booking & Listen",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    console.log(' Booking accepted');",
									"    console.log(' Real-time notification sent to other online drivers');",
									"    console.log('   Event: booking-taken');",
									"    console.log('   Channel: drivers');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{driverAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/accept",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"{{bookingId}}",
								"accept"
							]
						},
						"description": "Accept a booking to trigger a 'booking-taken' real-time notification.\n\n**To test:**\n1. Ensure driver is online\n2. Create a booking < 150\n3. Accept the booking\n4. Other online drivers should receive 'booking-taken' event\n\n**Expected Notification:**\n- Event: `booking-taken`\n- Channel: `drivers`\n- Recipients: Other online drivers (excluding the accepting driver)"
					},
					"response": []
				},
				{
					"name": "Test Real-Time: Assign Booking & Listen",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    console.log(' Booking assigned');",
									"    console.log(' Real-time notification sent to assigned driver');",
									"    console.log('   Event: booking-assigned');",
									"    console.log('   Channel: drivers');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"driverId\": \"{{driverId}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/assign",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"{{bookingId}}",
								"assign"
							]
						},
						"description": "Assign a high-value booking (>= 150) to trigger a 'booking-assigned' real-time notification.\n\n**To test:**\n1. Create a booking >= 150\n2. Ensure driver is online and approved\n3. Assign the booking\n4. The assigned driver should receive 'booking-assigned' event\n\n**Expected Notification:**\n- Event: `booking-assigned`\n- Channel: `drivers`\n- Recipients: Assigned driver only"
					},
					"response": []
				},
				{
					"name": "Test Real-Time: Cancel Booking & Listen",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    console.log(' Booking cancelled');",
									"    console.log(' Real-time notification sent to online drivers');",
									"    console.log('   Event: booking-cancelled');",
									"    console.log('   Channel: drivers');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{driverAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"reason\": \"Test cancellation\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/cancel",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"{{bookingId}}",
								"cancel"
							]
						},
						"description": "Cancel a booking to trigger a 'booking-cancelled' real-time notification.\n\n**To test:**\n1. Accept or assign a booking\n2. Cancel the booking\n3. Online drivers should receive 'booking-cancelled' event\n\n**Expected Notification:**\n- Event: `booking-cancelled`\n- Channel: `drivers`\n- Recipients: All online drivers"
					},
					"response": []
				}
			]
		},
		{
			"name": "Push Notifications",
			"item": [
				{
					"name": "Push Notifications Setup Guide",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"health"
							]
						},
						"description": "**Push Notifications Setup Guide**\n\n## Overview\nPush notifications are sent via **Firebase Cloud Messaging (FCM)** to driver mobile devices. They work even when the app is closed (like WhatsApp notifications).\n\n## How Push Notifications Work\n\n1. **Driver registers FCM token** - Mobile app gets FCM token from Firebase\n2. **Token stored in database** - Driver's FCM tokens are stored in `fcmTokens` array\n3. **Notifications sent automatically** - When booking events occur, push notifications are sent to all registered FCM tokens\n\n## Push Notification Events\n\n### 1. New Booking (< 150)\n- **Trigger:** Booking created with price < 150\n- **Recipients:** All online drivers with registered FCM tokens\n- **Title:** \"New Booking Available! \"\n- **Body:** \"From [location] to [location] - [price]\"\n- **Data:** Booking details (bookingId, from_location, to_location, price, date_time)\n\n### 2. Booking Taken\n- **Trigger:** Driver accepts a booking\n- **Recipients:** Other online drivers (excluding accepting driver)\n- **Title:** \"Booking Taken\"\n- **Body:** \"Booking [id]... has been accepted by another driver\"\n- **Data:** Booking ID\n\n### 3. Booking Assigned (>= 150)\n- **Trigger:** Admin assigns high-value booking to driver\n- **Recipients:** Assigned driver only\n- **Title:** \"Booking Assigned to You! \"\n- **Body:** \"You have been assigned a booking from [location] to [location]\"\n- **Data:** Complete booking details\n\n### 4. Booking Cancelled\n- **Trigger:** Driver cancels a booking\n- **Recipients:** All online drivers\n- **Title:** \"Booking Cancelled\"\n- **Body:** \"A booking has been cancelled and may be available again\"\n- **Data:** Booking ID\n\n## Getting FCM Token\n\n### Method 1: From Mobile App (Recommended)\n1. Install the driver mobile app\n2. Login as driver\n3. App automatically registers FCM token\n4. Token is sent to backend via `registerFcmToken` endpoint\n\n### Method 2: From Firebase Console (Testing)\n1. Go to Firebase Console  Project Settings  Cloud Messaging\n2. Use Firebase Admin SDK to generate test tokens\n3. Or use Firebase Cloud Messaging API to send test messages\n\n### Method 3: Using Firebase Admin SDK (Node.js)\n```javascript\nconst admin = require('firebase-admin');\n\n// Initialize Firebase Admin\nadmin.initializeApp({\n    credential: admin.credential.cert({\n        projectId: process.env.FIREBASE_PROJECT_ID,\n        privateKey: process.env.FIREBASE_PRIVATE_KEY.replace(/\\\\n/g, '\\n'),\n        clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n    }),\n});\n\n// Get FCM token (this is usually obtained from mobile app)\n// For testing, you can use Firebase Console to send test notifications\n```\n\n## Testing Push Notifications\n\n### Prerequisites\n1. Firebase project configured\n2. Firebase Admin SDK credentials set in environment:\n   - `FIREBASE_PROJECT_ID`\n   - `FIREBASE_PRIVATE_KEY`\n   - `FIREBASE_CLIENT_EMAIL`\n3. Driver has registered FCM token\n4. Driver is online\n\n### Test Flow\n1. **Register FCM Token** - Use \"Register FCM Token\" request\n2. **Set Driver Online** - Use \"Set Online Status\" request\n3. **Create Booking** - Create booking < 150\n4. **Check Mobile Device** - Push notification should appear\n5. **Check Server Logs** - Verify notification was sent\n\n### Expected Server Logs\n```\n Push notification sent successfully: [message-id]\n Push notifications sent: X successful, Y failed\n```\n\n### Troubleshooting\n- **No notification received:**\n  - Verify FCM token is registered\n  - Check driver is online\n  - Verify Firebase credentials are correct\n  - Check server logs for errors\n  - Verify mobile app has notification permissions\n\n- **Invalid token errors:**\n  - Token may have expired\n  - App may have been uninstalled\n  - Token is automatically removed from database\n\n## Push Notification Payload Structure\n\n```json\n{\n    \"notification\": {\n        \"title\": \"New Booking Available! \",\n        \"body\": \"From Amsterdam Airport to Central Station - 50\",\n        \"sound\": \"default\"\n    },\n    \"data\": {\n        \"type\": \"new-booking\",\n        \"bookingId\": \"...\",\n        \"from_location\": \"...\",\n        \"to_location\": \"...\",\n        \"price\": \"...\",\n        \"date_time\": \"...\"\n    },\n    \"android\": {\n        \"priority\": \"high\",\n        \"notification\": {\n            \"sound\": \"default\",\n            \"channelId\": \"booking_notifications\"\n        }\n    },\n    \"apns\": {\n        \"payload\": {\n            \"aps\": {\n                \"sound\": \"default\",\n                \"badge\": 1\n            }\n        }\n    }\n}\n```\n\n## Firebase Configuration\n\n### Required Environment Variables\n```\nFIREBASE_PROJECT_ID=your-project-id\nFIREBASE_PRIVATE_KEY=your-private-key\nFIREBASE_CLIENT_EMAIL=your-service-account-email\n```\n\n### Getting Firebase Credentials\n1. Go to Firebase Console  Project Settings  Service Accounts\n2. Click \"Generate New Private Key\"\n3. Download JSON file\n4. Extract values for environment variables"
					},
					"response": []
				},
				{
					"name": "Register FCM Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    console.log(' FCM token registered successfully');",
									"    console.log(' Token will be used for push notifications');",
									"    ",
									"    // Store FCM token in environment if needed",
									"    const fcmToken = pm.request.body.raw ? JSON.parse(pm.request.body.raw).fcmToken : null;",
									"    if (fcmToken) {",
									"        pm.collectionVariables.set('fcmToken', fcmToken);",
									"        console.log(' FCM token saved to environment');",
									"    }",
									"    ",
									"    pm.test('FCM token registered', function() {",
									"        pm.response.to.have.status(200);",
									"    });",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{driverAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fcmToken\": \"YOUR_FCM_TOKEN_HERE\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/drivers/register-fcm-token",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"drivers",
								"register-fcm-token"
							]
						},
						"description": "Register FCM token for push notifications. \n\n**How to get FCM token:**\n1. From mobile app (recommended) - App automatically gets token from Firebase\n2. From Firebase Console - Use Firebase Admin SDK\n3. For testing - Use a test token from Firebase Console\n\n**Note:** Replace `YOUR_FCM_TOKEN_HERE` with actual FCM token from mobile app or Firebase Console."
					},
					"response": []
				},
				{
					"name": "Remove FCM Token",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{driverAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fcmToken\": \"{{fcmToken}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/drivers/remove-fcm-token",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"drivers",
								"remove-fcm-token"
							]
						},
						"description": "Remove FCM token (e.g., when user logs out or uninstalls app). Invalid tokens are automatically removed when push notification fails."
					},
					"response": []
				},
				{
					"name": "Test Push: Create Booking & Receive Push",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    if (response.data && response.data.booking) {",
									"        pm.collectionVariables.set('bookingId', response.data.booking.id);",
									"        ",
									"        const price = Number(response.data.booking.price);",
									"        ",
									"        console.log(' Booking created:', response.data.booking.id);",
									"        console.log(' Push notification should be sent to online drivers');",
									"        ",
									"        if (price < 150) {",
									"            console.log(' Booking < 150 - Push notification sent to online drivers');",
									"            console.log('   Title: \"New Booking Available! \"');",
									"            console.log('   Body: \"From ' + response.data.booking.from_location + ' to ' + response.data.booking.to_location + ' - ' + response.data.booking.price + '\"');",
									"            console.log('   Check mobile device for push notification');",
									"        } else {",
									"            console.log('  Booking >= 150 - No push notification (requires admin assignment)');",
									"        }",
									"    }",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"from_location\": \"Amsterdam Airport\",\n    \"to_location\": \"Amsterdam Central Station\",\n    \"date_time\": \"2024-12-25T10:00:00Z\",\n    \"cat_title\": \"Standard\",\n    \"price\": \"45\",\n    \"user_name\": \"Test User\",\n    \"email\": \"test@example.com\",\n    \"num_passengers\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings"
							]
						},
						"description": "Create a booking (< 150) to trigger push notification to online drivers.\n\n**Prerequisites:**\n1. Driver has registered FCM token\n2. Driver is online\n3. Firebase is configured\n\n**Expected Push Notification:**\n- Title: \"New Booking Available! \"\n- Body: \"From [location] to [location] - [price]\"\n- Data: Booking details\n\n**Check:**\n- Mobile device should receive push notification\n- Server logs should show: \"Push notifications sent: X successful\""
					},
					"response": [
						{
							"name": "Test Push: Create Booking & Receive Push",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"from_location\": \"Amsterdam Airport\",\n    \"to_location\": \"Amsterdam Central Station\",\n    \"date_time\": \"2024-12-25T10:00:00Z\",\n    \"cat_title\": \"Standard\",\n    \"price\": \"45\",\n    \"user_name\": \"Test User\",\n    \"email\": \"test@example.com\",\n    \"num_passengers\": 1\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/bookings",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": null,
							"header": [
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "Expect-CT",
									"value": "max-age=0"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=15552000; includeSubDomains"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "X-RateLimit-Limit",
									"value": "100"
								},
								{
									"key": "X-RateLimit-Remaining",
									"value": "95"
								},
								{
									"key": "Date",
									"value": "Tue, 25 Nov 2025 09:39:27 GMT"
								},
								{
									"key": "X-RateLimit-Reset",
									"value": "1764065572"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "500"
								},
								{
									"key": "ETag",
									"value": "W/\"1f4-yCcSlSmJJlifQKDv0KMMqqCvJ7Q\""
								},
								{
									"key": "Vary",
									"value": "Accept-Encoding"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": \"success\",\n    \"message\": \"Booking created successfully\",\n    \"data\": {\n        \"booking\": {\n            \"id\": \"6925794f00d16dff4d610d70\",\n            \"from_location\": \"Amsterdam Airport\",\n            \"to_location\": \"Amsterdam Central Station\",\n            \"num_passengers\": 1,\n            \"date_time\": \"2024-12-25T10:00:00.000Z\",\n            \"cat_title\": \"Standard\",\n            \"price\": \"45\",\n            \"user_name\": \"Test User\",\n            \"email\": \"test@example.com\",\n            \"commission\": \"0\",\n            \"driverPrice\": \"0\",\n            \"driverId\": null,\n            \"status\": \"pending\",\n            \"isPaid\": false,\n            \"createdAt\": \"2025-11-25T09:39:27.047Z\",\n            \"updatedAt\": \"2025-11-25T09:39:27.047Z\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Test Push: Accept Booking & Receive Push",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    console.log(' Booking accepted');",
									"    console.log(' Push notification sent to other online drivers');",
									"    console.log('   Title: \"Booking Taken\"');",
									"    console.log('   Body: \"Booking [id]... has been accepted by another driver\"');",
									"    console.log('   Check mobile devices of other online drivers');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{driverAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/accept",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"{{bookingId}}",
								"accept"
							]
						},
						"description": "Accept a booking to trigger push notification to other online drivers.\n\n**Expected Push Notification:**\n- Recipients: Other online drivers (excluding accepting driver)\n- Title: \"Booking Taken\"\n- Body: \"Booking [id]... has been accepted by another driver\"\n\n**Check:**\n- Other drivers' mobile devices should receive push notification"
					},
					"response": [
						{
							"name": "Test Push: Accept Booking & Receive Push",
							"originalRequest": {
								"method": "PATCH",
								"header": [],
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/accept",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"accept"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "Expect-CT",
									"value": "max-age=0"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=15552000; includeSubDomains"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "X-RateLimit-Limit",
									"value": "100"
								},
								{
									"key": "X-RateLimit-Remaining",
									"value": "86"
								},
								{
									"key": "Date",
									"value": "Sun, 23 Nov 2025 15:50:17 GMT"
								},
								{
									"key": "X-RateLimit-Reset",
									"value": "1763914199"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "522"
								},
								{
									"key": "ETag",
									"value": "W/\"20a-Om1UNI5Q5LLg3lTINcg7Vra4u9c\""
								},
								{
									"key": "Vary",
									"value": "Accept-Encoding"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": \"success\",\n    \"message\": \"Booking accepted successfully\",\n    \"data\": {\n        \"booking\": {\n            \"id\": \"69232ce04af42b45b15c821d\",\n            \"from_location\": \"Amsterdam Airport\",\n            \"to_location\": \"Amsterdam Central Station\",\n            \"num_passengers\": 1,\n            \"date_time\": \"2024-12-25T10:00:00.000Z\",\n            \"cat_title\": \"Standard\",\n            \"price\": \"45\",\n            \"user_name\": \"Test User\",\n            \"email\": \"test@example.com\",\n            \"commission\": \"0\",\n            \"driverPrice\": \"0\",\n            \"driverId\": \"69232ae34af42b45b15c8201\",\n            \"status\": \"active\",\n            \"isPaid\": false,\n            \"createdAt\": \"2025-11-23T15:48:48.635Z\",\n            \"updatedAt\": \"2025-11-23T15:50:18.530Z\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Test Push: Assign Booking & Receive Push",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    console.log(' Booking assigned');",
									"    console.log(' Push notification sent to assigned driver');",
									"    console.log('   Title: \"Booking Assigned to You! \"');",
									"    console.log('   Body: \"You have been assigned a booking from [location] to [location]\"');",
									"    console.log('   Check assigned driver\\'s mobile device');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{adminAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"driverId\": \"{{driverId}}\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/assign",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"{{bookingId}}",
								"assign"
							]
						},
						"description": "Assign high-value booking (>= 150) to trigger push notification to assigned driver.\n\n**Prerequisites:**\n1. Create booking with price >= 150\n2. Assigned driver has registered FCM token\n3. Assigned driver is online\n\n**Expected Push Notification:**\n- Recipients: Assigned driver only\n- Title: \"Booking Assigned to You! \"\n- Body: \"You have been assigned a booking from [location] to [location]\"\n- Data: Complete booking details\n\n**Check:**\n- Assigned driver's mobile device should receive push notification"
					},
					"response": [
						{
							"name": "Test Push: Assign Booking & Receive Push",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"driverId\": \"{{driverId}}\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/assign",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"assign"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "Expect-CT",
									"value": "max-age=0"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=15552000; includeSubDomains"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "X-RateLimit-Limit",
									"value": "100"
								},
								{
									"key": "X-RateLimit-Remaining",
									"value": "84"
								},
								{
									"key": "Date",
									"value": "Sun, 23 Nov 2025 15:51:40 GMT"
								},
								{
									"key": "X-RateLimit-Reset",
									"value": "1763914199"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "526"
								},
								{
									"key": "ETag",
									"value": "W/\"20e-wZq9IAphYdGh8Lo/CTBi/l/l/BE\""
								},
								{
									"key": "Vary",
									"value": "Accept-Encoding"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": \"success\",\n    \"message\": \"Booking assigned successfully\",\n    \"data\": {\n        \"booking\": {\n            \"id\": \"69232d674af42b45b15c8226\",\n            \"from_location\": \"Amsterdam Airport\",\n            \"to_location\": \"Amsterdam Central Station\",\n            \"num_passengers\": 1,\n            \"date_time\": \"2024-12-25T10:00:00.000Z\",\n            \"cat_title\": \"Standard\",\n            \"price\": \"1145\",\n            \"user_name\": \"Test User\",\n            \"email\": \"test@example.com\",\n            \"commission\": \"0\",\n            \"driverPrice\": \"0\",\n            \"driverId\": \"69232ae34af42b45b15c8201\",\n            \"status\": \"assigned\",\n            \"isPaid\": false,\n            \"createdAt\": \"2025-11-23T15:51:03.763Z\",\n            \"updatedAt\": \"2025-11-23T15:51:41.931Z\"\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "Test Push: Cancel Booking & Receive Push",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    console.log(' Booking cancelled');",
									"    console.log(' Push notification sent to online drivers');",
									"    console.log('   Title: \"Booking Cancelled\"');",
									"    console.log('   Body: \"A booking has been cancelled and may be available again\"');",
									"    console.log('   Check mobile devices of online drivers');",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{driverAccessToken}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"reason\": \"Test cancellation\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/cancel",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"bookings",
								"{{bookingId}}",
								"cancel"
							]
						},
						"description": "Cancel a booking to trigger push notification to online drivers.\n\n**Expected Push Notification:**\n- Recipients: All online drivers\n- Title: \"Booking Cancelled\"\n- Body: \"A booking has been cancelled and may be available again\"\n\n**Check:**\n- Online drivers' mobile devices should receive push notification"
					},
					"response": [
						{
							"name": "Test Push: Cancel Booking & Receive Push",
							"originalRequest": {
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"reason\": \"Test cancellation\"\n}"
								},
								"url": {
									"raw": "{{baseUrl}}/api/bookings/{{bookingId}}/cancel",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"bookings",
										"{{bookingId}}",
										"cancel"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "Text",
							"header": [
								{
									"key": "Access-Control-Allow-Origin",
									"value": "*"
								},
								{
									"key": "Content-Security-Policy",
									"value": "default-src 'self';base-uri 'self';block-all-mixed-content;font-src 'self' https: data:;frame-ancestors 'self';img-src 'self' data:;object-src 'none';script-src 'self';script-src-attr 'none';style-src 'self' https: 'unsafe-inline';upgrade-insecure-requests"
								},
								{
									"key": "X-DNS-Prefetch-Control",
									"value": "off"
								},
								{
									"key": "Expect-CT",
									"value": "max-age=0"
								},
								{
									"key": "X-Frame-Options",
									"value": "SAMEORIGIN"
								},
								{
									"key": "Strict-Transport-Security",
									"value": "max-age=15552000; includeSubDomains"
								},
								{
									"key": "X-Download-Options",
									"value": "noopen"
								},
								{
									"key": "X-Content-Type-Options",
									"value": "nosniff"
								},
								{
									"key": "X-Permitted-Cross-Domain-Policies",
									"value": "none"
								},
								{
									"key": "Referrer-Policy",
									"value": "no-referrer"
								},
								{
									"key": "X-XSS-Protection",
									"value": "0"
								},
								{
									"key": "X-RateLimit-Limit",
									"value": "100"
								},
								{
									"key": "X-RateLimit-Remaining",
									"value": "82"
								},
								{
									"key": "Date",
									"value": "Sun, 23 Nov 2025 15:52:50 GMT"
								},
								{
									"key": "X-RateLimit-Reset",
									"value": "1763914199"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "504"
								},
								{
									"key": "ETag",
									"value": "W/\"1f8-NlZVnnDqTL2iVJzVxy0n0iGtLbY\""
								},
								{
									"key": "Vary",
									"value": "Accept-Encoding"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"status\": \"success\",\n    \"message\": \"Booking cancelled successfully\",\n    \"data\": {\n        \"booking\": {\n            \"id\": \"69232dba4af42b45b15c822d\",\n            \"from_location\": \"Amsterdam Airport\",\n            \"to_location\": \"Amsterdam Central Station\",\n            \"num_passengers\": 1,\n            \"date_time\": \"2024-12-25T10:00:00.000Z\",\n            \"cat_title\": \"Standard\",\n            \"price\": \"45\",\n            \"user_name\": \"Test User\",\n            \"email\": \"test@example.com\",\n            \"commission\": \"0\",\n            \"driverPrice\": \"0\",\n            \"driverId\": null,\n            \"status\": \"cancelled\",\n            \"isPaid\": false,\n            \"createdAt\": \"2025-11-23T15:52:26.471Z\",\n            \"updatedAt\": \"2025-11-23T15:52:51.281Z\"\n        }\n    }\n}"
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"requests": {},
				"exec": [
					"// Enable automatic cookie management",
					"// Postman will automatically send cookies received from previous requests"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"requests": {},
				"exec": [
					"// Collection-level test script - Auto-extract variables from responses",
					"",
					"// Auto-extract tokens, IDs, and other variables from successful responses",
					"if (pm.response.code >= 200 && pm.response.code < 300) {",
					"    try {",
					"        const response = pm.response.json();",
					"        ",
					"        // Auto-extract tokens (driver and admin)",
					"        if (response.data && response.data.tokens) {",
					"            if (response.data.tokens.accessToken) {",
					"                // Determine if it's driver or admin based on context",
					"                const url = pm.request.url.toString();",
					"                if (url.includes('/drivers/') || url.includes('/api/drivers/')) {",
					"                    pm.collectionVariables.set('driverAccessToken', response.data.tokens.accessToken);",
					"                } else if (url.includes('/auth/') || url.includes('/api/admin/')) {",
					"                    pm.collectionVariables.set('adminAccessToken', response.data.tokens.accessToken);",
					"                }",
					"            }",
					"            if (response.data.tokens.refreshToken) {",
					"                const url = pm.request.url.toString();",
					"                if (url.includes('/drivers/') || url.includes('/api/drivers/')) {",
					"                    pm.collectionVariables.set('driverRefreshToken', response.data.tokens.refreshToken);",
					"                } else if (url.includes('/auth/') || url.includes('/api/admin/')) {",
					"                    pm.collectionVariables.set('adminRefreshToken', response.data.tokens.refreshToken);",
					"                }",
					"            }",
					"        }",
					"        ",
					"        // Auto-extract driver ID",
					"        if (response.data && response.data.driver && response.data.driver.id) {",
					"            pm.collectionVariables.set('driverId', response.data.driver.id);",
					"        } else if (response.data && response.data.driver && response.data.driver._id) {",
					"            pm.collectionVariables.set('driverId', response.data.driver._id);",
					"        }",
					"        ",
					"        // Auto-extract admin ID",
					"        if (response.data && response.data.admin && response.data.admin.id) {",
					"            pm.collectionVariables.set('adminId', response.data.admin.id);",
					"        } else if (response.data && response.data.admin && response.data.admin._id) {",
					"            pm.collectionVariables.set('adminId', response.data.admin._id);",
					"        }",
					"        ",
					"        // Auto-extract vehicle ID",
					"        if (response.data && response.data.vehicle) {",
					"            const vehicleId = response.data.vehicle.id || response.data.vehicle._id;",
					"            if (vehicleId) {",
					"                pm.collectionVariables.set('vehicleId', vehicleId);",
					"            }",
					"        }",
					"        ",
					"        // Auto-extract booking ID",
					"        if (response.data && response.data.booking) {",
					"            const bookingId = response.data.booking.id || response.data.booking._id;",
					"            if (bookingId) {",
					"                pm.collectionVariables.set('bookingId', bookingId);",
					"            }",
					"        }",
					"        ",
					"        // Auto-extract FCM token from request body if present",
					"        if (pm.request.body && pm.request.body.raw) {",
					"            try {",
					"                const requestBody = JSON.parse(pm.request.body.raw);",
					"                if (requestBody.fcmToken) {",
					"                    pm.collectionVariables.set('fcmToken', requestBody.fcmToken);",
					"                }",
					"            } catch (e) {",
					"                // Ignore parse errors",
					"            }",
					"        }",
					"    } catch (e) {",
					"        // Ignore JSON parse errors or other issues",
					"    }",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:5000",
			"description": "Base URL for the API server. Auto-configured to port 5000."
		},
		{
			"key": "driverAccessToken",
			"value": "",
			"description": "JWT access token for driver authentication. Auto-extracted from login/verify-otp responses."
		},
		{
			"key": "driverRefreshToken",
			"value": "",
			"description": "JWT refresh token for driver authentication. Auto-extracted from login/verify-otp responses."
		},
		{
			"key": "adminAccessToken",
			"value": "",
			"description": "JWT access token for admin authentication. Auto-extracted from admin login/signup responses."
		},
		{
			"key": "adminRefreshToken",
			"value": "",
			"description": "JWT refresh token for admin authentication. Auto-extracted from admin login/signup responses."
		},
		{
			"key": "driverId",
			"value": "",
			"description": "Driver ID. Auto-extracted from driver signup/login/verify-otp responses."
		},
		{
			"key": "adminId",
			"value": "",
			"description": "Admin ID. Auto-extracted from admin signup/login responses."
		},
		{
			"key": "vehicleId",
			"value": "",
			"description": "Vehicle ID. Auto-extracted from vehicle creation/update responses."
		},
		{
			"key": "bookingId",
			"value": "",
			"description": "Booking ID. Auto-extracted from booking creation responses."
		},
		{
			"key": "ablyApiKey",
			"value": "",
			"description": "Your Ably API Key from https://ably.com. Used for real-time notifications."
		},
		{
			"key": "fcmToken",
			"value": "",
			"description": "FCM token from mobile app or Firebase Console for push notifications. Auto-extracted from request body when provided."
		}
	]
}